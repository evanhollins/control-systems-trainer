(this["webpackJsonpcontrol-systems-trainer"]=this["webpackJsonpcontrol-systems-trainer"]||[]).push([[0],{171:function(module,__webpack_exports__,__webpack_require__){"use strict";var C_src_frc_control_systems_trainer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),C_src_frc_control_systems_trainer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(10),C_src_frc_control_systems_trainer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11),C_src_frc_control_systems_trainer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(12),C_src_frc_control_systems_trainer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(13),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),react_bootstrap_Container__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(95),react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(46),react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(53),_App_css__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(207),_App_css__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(_App_css__WEBPACK_IMPORTED_MODULE_9__),_Editor_Editor__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(174),_Graph_Graph__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(176),_Preview_Preview__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(191),_Console_Console__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(193),_Sim_Sim__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(194),_Sim_Physics_Units_Time__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(21),_Exercises_ExerciseFactory__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(195),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(2),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__);function getParams(){return new URLSearchParams(window.location.search)}var App=function(_React$Component){Object(C_src_frc_control_systems_trainer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__.a)(App,_React$Component);var _super=Object(C_src_frc_control_systems_trainer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_4__.a)(App);function App(e){var t;Object(C_src_frc_control_systems_trainer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,App),(t=_super.call(this,e)).sim=void 0,t.exercise=void 0,t.displayTimerHandle=void 0,t.logBuffer=[],t.startDisplay=t.startDisplay.bind(Object(C_src_frc_control_systems_trainer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__.a)(t)),t.displayCallback=t.displayCallback.bind(Object(C_src_frc_control_systems_trainer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__.a)(t)),t.run=t.run.bind(Object(C_src_frc_control_systems_trainer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__.a)(t)),t.print=t.print.bind(Object(C_src_frc_control_systems_trainer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__.a)(t)),t.state={graphData:[],logMessages:[],displayTime:0};var r=getParams();return t.exercise=Object(_Exercises_ExerciseFactory__WEBPACK_IMPORTED_MODULE_16__.a)(r.get("exercise")),t.exercise.log=t.print,t.sim=new _Sim_Sim__WEBPACK_IMPORTED_MODULE_14__.a((function(e){return t.setState({graphData:e})})),window.print=t.print,t}return Object(C_src_frc_control_systems_trainer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(App,[{key:"run",value:function run(code){void 0!==this.displayTimerHandle&&(window.clearInterval(this.displayTimerHandle),this.displayTimerHandle=void 0);var func=void 0;try{func=eval(code)}catch(e){return void this.setState({logMessages:[{level:"error",message:e.message}]})}func instanceof Function?(this.exercise.controlSystem=func,this.logBuffer=[],this.exercise.reset(),this.sim.setup(this.exercise),this.sim.run(),window.setTimeout(this.startDisplay,1500)):this.setState({logMessages:[{level:"error",message:"Function not found. Make sure you haven't changed the original control system function."}]})}},{key:"startDisplay",value:function(){this.setState({logMessages:this.logBuffer}),this.exercise.drawStep=0,this.setState({displayTime:0}),this.displayTimerHandle=window.setInterval(this.displayCallback,App.DisplayStep.ms())}},{key:"displayCallback",value:function(){this.exercise.drawStep+=App.DisplayStep.ms()/this.exercise.timeStep.ms();var e=this.state.displayTime+App.DisplayStep.ms();e>=this.exercise.totalTime.ms()?(clearInterval(this.displayTimerHandle),this.displayTimerHandle=void 0,this.setState({displayTime:0})):this.setState({displayTime:e})}},{key:"print",value:function(e){var t;switch(typeof e){case"string":t=e;break;case"boolean":t=e?"true":"false";break;case"number":t=e.toString();break;case"object":t=JSON.stringify(e);break;default:t=void 0}t&&this.logBuffer.push({level:"log",message:t})}},{key:"render",value:function(){var e=this;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(react_bootstrap_Container__WEBPACK_IMPORTED_MODULE_6__.a,{fluid:!0,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_7__.a,{className:"app",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_8__.a,{xs:6,className:"section",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_7__.a,{className:"editor",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_Editor_Editor__WEBPACK_IMPORTED_MODULE_10__.a,{exerciseName:this.exercise.name,initialValue:this.exercise.starterCode,initialTarget:this.exercise.target,initialTime:this.exercise.totalTime.s(),onRun:this.run,onTimeChange:function(t){e.exercise.totalTime=_Sim_Physics_Units_Time__WEBPACK_IMPORTED_MODULE_15__.a.s(t)},onTargetChange:function(t){e.exercise.target=t}})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_7__.a,{className:"console",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_Console_Console__WEBPACK_IMPORTED_MODULE_13__.a,{logMessages:this.state.logMessages})})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_8__.a,{xs:6,className:"section",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_7__.a,{className:"preview",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_Preview_Preview__WEBPACK_IMPORTED_MODULE_12__.a,{draw:this.exercise.draw})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_7__.a,{className:"graph",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_Graph_Graph__WEBPACK_IMPORTED_MODULE_11__.a,{data:this.state.graphData,config:this.exercise.graphConfig,cursor:this.state.displayTime})})]})]})})}}]),App}(react__WEBPACK_IMPORTED_MODULE_5___default.a.Component);App.DisplayStep=_Sim_Physics_Units_Time__WEBPACK_IMPORTED_MODULE_15__.a.ms(15),__webpack_exports__.a=App},174:function(e,t,r){"use strict";var n=r(4),i=r(10),a=r(11),s=r(12),o=r(13),u=r(0),c=r.n(u),l=r(175),_=r.n(l),h=(r(215),r(216),r(121)),p=r.n(h),d=r(95),m=r(46),g=r(53),b=r(130),f=(r(217),r(104)),y=r(198),v=r(2),j=function(e){Object(s.a)(r,e);var t=Object(o.a)(r);function r(e){var i;return Object(n.a)(this,r),(i=t.call(this,e)).editor=void 0,i.state=void 0,i.state={timeValue:e.initialTime,targetValue:e.initialTarget},i.editor=null,i.onTimeChange=i.onTimeChange.bind(Object(a.a)(i)),i.onTargetChange=i.onTargetChange.bind(Object(a.a)(i)),i.onCodeChange=i.onCodeChange.bind(Object(a.a)(i)),i.setup=i.setup.bind(Object(a.a)(i)),i.reset=i.reset.bind(Object(a.a)(i)),i.run=i.run.bind(Object(a.a)(i)),i}return Object(i.a)(r,[{key:"setup",value:function(e){this.editor=e;var t=p.a.get(this.props.exerciseName)||this.props.initialValue;this.editor.setValue(t,-1)}},{key:"reset",value:function(){if(this.editor){var e=this.props.initialValue;this.editor.setValue(e,-1)}}},{key:"run",value:function(){this.props.onRun(this.editor?this.editor.getValue():"")}},{key:"onTimeChange",value:function(e){this.setState({timeValue:e}),this.props.onTimeChange(e)}},{key:"onTargetChange",value:function(e){this.setState({targetValue:e}),this.props.onTargetChange(e)}},{key:"onCodeChange",value:function(e){p.a.set(this.props.exerciseName,e)}},{key:"render",value:function(){var e=this;return Object(v.jsxs)(d.a,{className:"editorContainer",children:[Object(v.jsxs)(m.a,{className:"justify-content-between",children:[Object(v.jsx)(g.a,{xs:"auto",children:Object(v.jsx)(b.a,{variant:"primary",onClick:this.reset.bind(this),children:"Reset"})}),Object(v.jsx)(g.a,{children:Object(v.jsxs)(f.a,{children:[Object(v.jsx)(f.a.Text,{children:"Time (s)"}),Object(v.jsx)(y.a,{onChange:function(t){return e.onTimeChange(parseInt(t.target.value))},value:this.state.timeValue,type:"number"})]})}),Object(v.jsx)(g.a,{children:Object(v.jsxs)(f.a,{children:[Object(v.jsx)(f.a.Text,{children:"Target"}),Object(v.jsx)(y.a,{onChange:function(t){return e.onTargetChange(parseInt(t.target.value))},value:this.state.targetValue,type:"number"})]})}),Object(v.jsx)(g.a,{xs:"auto",children:Object(v.jsx)(b.a,{variant:"success",onClick:this.run,children:"Run"})})]}),Object(v.jsx)(m.a,{className:"editorRow",children:Object(v.jsx)(_.a,{mode:"javascript",theme:"github",name:"editor",editorProps:{$blockScrolling:!0},height:"100%",width:"100%",onLoad:this.setup,onChange:this.onCodeChange})})]})}}]),r}(c.a.Component);t.a=j},176:function(e,t,r){"use strict";var n=r(358),i=r(359),a=r(73),s=r(126),o=r(36),u=r(127),c=r(125),l=r(360),_=r(129),h=r(71),p=r(2),d=["#f95d6a","#003f5c","#2f4b7c","#665191","#a05195","#d45087","#ff7c43","#ffa600"];t.a=function(e){return Object(p.jsx)("div",{children:Object(p.jsx)(n.a,{width:"100%",height:"100%",children:Object(p.jsxs)(i.a,{data:e.data,margin:{top:15,right:15,left:30,bottom:30},children:[Object(p.jsx)(a.a,{labelFormatter:function(e){return"time: "+(parseInt(e)/1e3).toFixed(2)+"s"},formatter:function(e){return parseFloat(e).toFixed(2)}}),Object(p.jsx)(s.a,{dataKey:"time",tickFormatter:e.config.tickFormater,children:e.config.xLabel?Object(p.jsx)(o.a,{position:"insideBottomLeft",offset:-10,children:e.config.xLabel}):""}),Object(p.jsx)(u.a,{children:e.config.yLabel?Object(p.jsx)(o.a,{position:"left",angle:-90,children:e.config.yLabel}):""}),Object(p.jsx)(c.a,{x:e.cursor,stroke:"black"}),Object(p.jsx)(l.a,{strokeDasharray:"3 3"}),e.config.graphKeys?e.config.graphKeys.map((function(e,t){return Object(p.jsx)(_.a,{dataKey:e,stroke:d[t],dot:!1},t)})):null,Object(p.jsx)(h.a,{})]})})})}},191:function(e,t,r){"use strict";var n=r(23),i=r(0),a=r(192),s=r.n(a),o=r(2);t.a=function(e){var t=Object(i.useState)(0),r=Object(n.a)(t,2),a=r[0],u=r[1],c=Object(i.useState)(0),l=Object(n.a)(c,2),_=l[0],h=l[1],p=Object(i.useCallback)((function(e){if(null!==e&&0===a&&0===_){var t=e.getBoundingClientRect().height,r=e.getBoundingClientRect().width,n=getComputedStyle(e);t-=parseInt(n.marginTop)+parseInt(n.marginBottom)+parseInt(n.paddingTop)+parseInt(n.paddingBottom),r-=parseInt(n.marginLeft)+parseInt(n.marginRight)+parseInt(n.paddingLeft)+parseInt(n.paddingRight),h(Math.floor(t)),u(Math.floor(r))}}),[_,a]);return Object(o.jsx)("div",{style:{width:"95%",height:"95%",margin:"10px",padding:"0px"},ref:p,children:0!==_&&0!==a?Object(o.jsx)(s.a,{setup:function(e,t){e.createCanvas(a,_).parent(t)},draw:function(t){e.draw(t)}}):Object(o.jsx)("div",{})})}},193:function(e,t,r){"use strict";r(355);var n=r(2);t.a=function(e){return Object(n.jsx)("div",{className:"consoleBox",children:e.logMessages.map((function(e,t){var r="log"===e.level?"text-secondary":"warn"===e.level?"text-warning":"error"===e.level?"text-danger":"";return Object(n.jsx)("p",{className:r,children:e.message},t)}))})}},194:function(e,t,r){"use strict";var n=r(4),i=r(10),a=function(){function e(t){Object(n.a)(this,e),this.exercise=void 0,this.updateGraphData=void 0,this.updateGraphData=t}return Object(i.a)(e,[{key:"setup",value:function(e){this.exercise=e}},{key:"run",value:function(){this.exercise&&(this.exercise.reset(),this.exercise.run(),this.updateGraphData(this.exercise.data))}}]),e}();t.a=a},195:function(e,t,r){"use strict";var n=r(18),i=r(4),a=r(10),s=r(11),o=r(33),u=r(26),c=r(12),l=r(13),_=r(29),h=function(e){Object(c.a)(r,e);var t=Object(l.a)(r);function r(e){return Object(i.a)(this,r),t.call(this,e)}return Object(a.a)(r,[{key:"nm",value:function(){return this.value}},{key:"oz_in",value:function(){return this.value/r.ozIn_to_nm}},{key:"lb_ft",value:function(){return this.value/r.lbFt_to_nm}}],[{key:"nm",value:function(e){return new r(e)}},{key:"oz_in",value:function(e){return new r(e*r.ozIn_to_nm)}},{key:"lb_ft",value:function(e){return new r(e*r.lbFt_to_nm)}}]),r}(_.a);h.ozIn_to_nm=.007062,h.lbFt_to_nm=1.35584;var p=h,d=function(e){Object(c.a)(r,e);var t=Object(l.a)(r);function r(e){return Object(i.a)(this,r),t.call(this,e)}return Object(a.a)(r,[{key:"v",value:function(){return this.value}}],[{key:"v",value:function(e){return new r(e)}}]),r}(_.a);function m(e,t){return{x:t*Math.cos(e),y:t*Math.sin(e)}}var g=function(){function e(t,r,n,a,s,o,u,c,l,_){Object(i.a)(this,e),this.operatingVoltage=void 0,this.stallTorque=void 0,this.stallCurrent=void 0,this.breakawayTorque=void 0,this.noLoadSpeed=void 0,this.noLoadCurrent=void 0,this.rotorRadius=void 0,this.rotorMass=void 0,this.gearRatio=void 0,this.electricalConstant=void 0,this.suppliedVoltage=void 0,this.resistance=void 0,this.operatingVoltage=t,this.stallTorque=r,this.stallCurrent=n,this.breakawayTorque=a,this.noLoadSpeed=s,this.noLoadCurrent=o,this.rotorRadius=c,this.rotorMass=l,this.gearRatio=_,this.resistance=u,this.electricalConstant=this.stallTorque.nm()/this.operatingVoltage.v(),this.suppliedVoltage=d.v(0),this.reset=this.reset.bind(this),this.setPower=this.setPower.bind(this),this.inertia=this.inertia.bind(this),this.torque=this.torque.bind(this)}return Object(a.a)(e,[{key:"reset",value:function(){this.suppliedVoltage=d.v(0)}},{key:"setPower",value:function(e){var t,r,n;n=1,e=(t=e)<(r=-1)?r:t>n?n:t,this.suppliedVoltage=d.v(this.operatingVoltage.v()*e)}},{key:"inertia",value:function(){return.5*this.rotorMass.kg()*Math.pow(this.rotorRadius.m(),2)*Math.pow(this.gearRatio,2)}},{key:"torque",value:function(e){var t=(this.suppliedVoltage.v()-this.electricalConstant*e.velocity.radS())/this.resistance*this.electricalConstant;return p.nm(t)}}]),e}(),b=function(e){Object(c.a)(r,e);var t=Object(l.a)(r);function r(e){return Object(i.a)(this,r),t.call(this,e)}return Object(a.a)(r,[{key:"radS",value:function(){return this.value}},{key:"rps",value:function(){return this.value/r.rps_to_radS}},{key:"rpm",value:function(){return this.value/r.rpm_to_radS}}],[{key:"radS",value:function(e){return new r(e)}},{key:"rps",value:function(e){return new r(e*r.rps_to_radS)}},{key:"rpm",value:function(e){return new r(e*r.rpm_to_radS)}}]),r}(_.a);b.rps_to_radS=2*Math.PI,b.rpm_to_radS=2*Math.PI/60;var f=b,y=function(e){Object(c.a)(r,e);var t=Object(l.a)(r);function r(e){return Object(i.a)(this,r),t.call(this,e)}return Object(a.a)(r,[{key:"a",value:function(){return this.value}}],[{key:"a",value:function(e){return new r(e)}}]),r}(_.a),v=function(e){Object(c.a)(r,e);var t=Object(l.a)(r);function r(e){return Object(i.a)(this,r),t.call(this,e)}return Object(a.a)(r,[{key:"m",value:function(){return this.value}},{key:"mm",value:function(){return 1e3*this.value}}],[{key:"m",value:function(e){return new r(e)}},{key:"mm",value:function(e){return new r(e/1e3)}}]),r}(_.a),j=function(e){Object(c.a)(r,e);var t=Object(l.a)(r);function r(e){return Object(i.a)(this,r),t.call(this,e)}return Object(a.a)(r,[{key:"kg",value:function(){return this.value}},{key:"g",value:function(){return 1e3*this.value}},{key:"lbs",value:function(){return this.value/r.lbs_to_kg}}],[{key:"kg",value:function(e){return new r(e)}},{key:"g",value:function(e){return new r(e/1e3)}},{key:"lbs",value:function(e){return new r(e*r.lbs_to_kg)}}]),r}(_.a);j.lbs_to_kg=.4536;var O=j,w=function(e){Object(c.a)(r,e);var t=Object(l.a)(r);function r(){return Object(i.a)(this,r),t.call(this,r.operatingVoltage,r.stallTorque,r.stallCurrent,r.breakawayTorque,r.noLoadSpeed,r.noLoadCurrent,r.resistance,r.rotorRadius,r.rotorMass,r.gearRatio)}return r}(g);w.operatingVoltage=d.v(12),w.stallTorque=p.nm(.71),w.stallCurrent=y.a(134),w.breakawayTorque=p.nm(.05),w.noLoadSpeed=f.rpm(18700),w.noLoadCurrent=y.a(.7),w.resistance=.1,w.rotorRadius=v.mm(12.5),w.rotorMass=O.lbs(.5),w.gearRatio=1;var k=function(){function e(t,r){Object(i.a)(this,e),this.staticFriction=void 0,this.dynamicFriction=void 0,this.staticFriction=t,this.dynamicFriction=r}return Object(a.a)(e,[{key:"torque",value:function(e,t){return 0===e.radS()&&Math.abs(t.nm())<=this.staticFriction.nm()?t.negate():t.isPositive()?this.dynamicFriction.negate():this.dynamicFriction}}]),e}(),E=r(128),S=function(e){Object(c.a)(r,e);var t=Object(l.a)(r);function r(e){return Object(i.a)(this,r),t.call(this,e)}return Object(a.a)(r,[{key:"rad",value:function(){return this.value}},{key:"deg",value:function(){return this.value/r.conversion}}],[{key:"rad",value:function(e){return new r(e)}},{key:"deg",value:function(e){return new r(e*r.conversion)}}]),r}(_.a);S.conversion=2*Math.PI/360;var C=S,T=function(e){Object(c.a)(r,e);var t=Object(l.a)(r);function r(e){return Object(i.a)(this,r),t.call(this,e)}return Object(a.a)(r,[{key:"radS2",value:function(){return this.value}}],[{key:"radS2",value:function(e){return new r(e)}}]),r}(_.a),x=function(){function e(t){Object(i.a)(this,e),this.initialState=void 0,this.data=void 0,this.torques=void 0,this.inertias=void 0,this.friction=void 0,t?(this.initialState=t,this.data=[t]):this.data=[{position:C.rad(0),velocity:f.radS(0),acceleration:T.radS2(0),torque:p.nm(0)}],this.torques=[],this.inertias=[]}return Object(a.a)(e,[{key:"addTorque",value:function(e){var t;Array.isArray(e)?(t=this.torques).push.apply(t,Object(E.a)(e)):this.torques.push(e)}},{key:"addInertia",value:function(e){var t;Array.isArray(e)?(t=this.inertias).push.apply(t,Object(E.a)(e)):this.inertias.push(e)}},{key:"reset",value:function(){this.initialState?this.data=[this.initialState]:this.data=[{position:C.rad(0),velocity:f.radS(0),acceleration:T.radS2(0),torque:p.nm(0)}]}},{key:"current",get:function(){return this.data[this.data.length-1]}},{key:"run",value:function(e){var t=this,r=this.inertias.reduce((function(e,r){return e+r(t.current)}),0),n=this.torques.reduce((function(e,r){return e+r(t.current).nm()}),0);this.friction&&(n+=this.friction.torque(this.current.velocity,p.nm(n)).nm());var i=T.radS2(n/r),a=f.radS(this.current.velocity.radS()+i.radS2()*e.s()),s=C.rad(this.current.position.rad()+a.radS()*e.s());this.data.push({position:s,velocity:a,acceleration:i,torque:p.nm(n)})}}]),e}(),M=r(21),P=function(e){Object(c.a)(r,e);var t=Object(l.a)(r);function r(){return Object(i.a)(this,r),t.call(this,r.radius,r.mass)}return r}(function(){function e(t,r){Object(i.a)(this,e),this.radius=void 0,this.mass=void 0,this.radius=t,this.mass=r,this.inertia=this.inertia.bind(this)}return Object(a.a)(e,[{key:"inertia",value:function(){return.5*this.mass.kg()*Math.pow(this.radius.m(),2)}}]),e}());P.radius=v.mm(100),P.mass=O.kg(4);var D=function(){function e(t,r,n,a){Object(i.a)(this,e),this.name=void 0,this.data=void 0,this.totalTime=void 0,this.timeStep=void 0,this.starterCode=void 0,this.target=void 0,this.controlSystem=void 0,this.graphConfig=void 0,this.drawStep=void 0,this.log=void 0,this.data=[],this.totalTime=t,this.timeStep=r,this.starterCode=n,this.target=a,this.log=function(){},this.controlSystem=function(){return 0},this.drawStep=0}return Object(a.a)(e,[{key:"reset",value:function(){this.data=[]}},{key:"run",value:function(){for(var e=0;e<this.totalTime.ms();e+=this.timeStep.ms())this.runStep(M.a.ms(e))}}]),e}(),I=function(e){Object(c.a)(r,e);var t=Object(l.a)(r);function r(){var e;return Object(i.a)(this,r),(e=t.call(this,r.totalTime,r.timeStep,"\n/*\n* Your control system!\n*\n* You are trying to control a 775 pro to spin a\n* steel flywheel at 10 revolutions per second (rps).\n* \n* Your control system is handed two things, a target rps\n* and a current rps. Based on those, you must decide what\n* to set the motor to, which is any number between -1 and 1.\n* \n* Some examples:\n*   Full power forwards: 1\n*   Full power backwards: -1\n*   Half power forwards: 0.5\n*   No power: 0\n*\n* Good luck!\n*/\n(target, current, timeStep) => {\n    return 0;\n}\n\n",r.initialTarget.rps())).name="Exercise1",e.staticFriction=p.nm(.2),e.dynamicFriction=p.nm(.1),e.friction=new k(e.staticFriction,e.dynamicFriction),e.joint=new x,e.motor=new w,e.wheel=new P,e.resetables=[e.joint,e.motor],e.graphConfig={yLabel:"rps",xLabel:"Time (s)",tickFormater:function(e){return isNaN(e)?e:(e/1e3).toFixed(1).toString()},graphKeys:["current","target"]},e.joint.addInertia([e.wheel.inertia,e.motor.inertia]),e.joint.addTorque([e.motor.torque]),e.joint.friction=e.friction,e.reset=e.reset.bind(Object(s.a)(e)),e.runStep=e.runStep.bind(Object(s.a)(e)),e.draw=e.draw.bind(Object(s.a)(e)),e}return Object(a.a)(r,[{key:"reset",value:function(){Object(o.a)(Object(u.a)(r.prototype),"reset",this).call(this);var e,t=Object(n.a)(this.resetables);try{for(t.s();!(e=t.n()).done;){e.value.reset()}}catch(i){t.e(i)}finally{t.f()}}},{key:"runStep",value:function(e){var t=this.joint.current.velocity.rps(),r=this.controlSystem(this.target,t,this.timeStep.s());null===r||void 0===r?this.log("Control system didn't return anything. Make sure your function will always return a number."):"number"!==typeof r&&this.log("Control system returned something that wasn't a number. Make sure your function will always return a number."),this.motor.setPower(r),this.joint.run(this.timeStep),this.data.push({time:e.ms(),target:this.target,current:t,setPoint:r})}},{key:"draw",value:function(e){var t=e.width/2,r=e.height/2,n=m(this.joint.data[this.drawStep].position.rad(),75),i=n.x,a=n.y;e.background(255),e.fill(66,135,245),e.noStroke(),e.ellipse(t,r,200,200),e.fill(66,245,111),e.noStroke(),e.ellipse(t+i,r+a,20,20)}}]),r}(D);I.totalTime=M.a.s(5),I.timeStep=M.a.ms(5),I.initialTarget=f.rps(10);var L=I,R=function(e){Object(c.a)(r,e);var t=Object(l.a)(r);function r(){return Object(i.a)(this,r),t.call(this,r.operatingVoltage,r.stallTorque,r.stallCurrent,r.breakawayTorque,r.noLoadSpeed,r.noLoadCurrent,r.resistance,r.rotorRadius,r.rotorMass,r.gearRatio)}return r}(g);R.operatingVoltage=d.v(12),R.stallTorque=p.nm(3.32),R.stallCurrent=y.a(11.5),R.breakawayTorque=p.oz_in(6.4),R.noLoadSpeed=f.rpm(285),R.noLoadCurrent=y.a(.2),R.resistance=1,R.rotorRadius=v.mm(12),R.rotorMass=O.g(83),R.gearRatio=19.2;var W=function(){function e(t,r){Object(i.a)(this,e),this.mass=void 0,this.length=void 0,this.mass=t,this.length=r,this.inertia=this.inertia.bind(this)}return Object(a.a)(e,[{key:"inertia",value:function(){return this.mass.kg()*Math.pow(this.length.m(),2)}}]),e}(),A=function(){function e(t,r){Object(i.a)(this,e),this.mass=void 0,this.length=void 0,this.mass=t,this.length=r,this.inertia=this.inertia.bind(this)}return Object(a.a)(e,[{key:"inertia",value:function(){return this.mass.kg()*Math.pow(this.length.m(),2)/3}}]),e}(),F=function(e){Object(c.a)(r,e);var t=Object(l.a)(r);function r(){var e;return Object(i.a)(this,r),(e=t.call(this,r.totalTime,r.timeStep,"\n/*\n* Your control system!\n*\n* You are trying to point an arm at a particular angle using a Neverest\n* orbital 20.\n* \n* Your control system is handed two things, a target angle in degrees\n* and a current angle in degrees. Based on those, you must decide what\n* to set the motor to, which is any number between -1 and 1.\n* \n* Some examples:\n*   Full power forwards: 1\n*   Full power backwards: -1\n*   Half power forwards: 0.5\n*   No power: 0\n*\n* Good luck!\n*/\n(target, current, timeStep) => {\n    if (current < target) {\n        return 1;\n    } else {\n        return -1;\n    }\n}\n\n",r.initialTarget.deg())).name="Exercise2",e.staticFriction=p.nm(.2),e.dynamicFriction=p.nm(.1),e.friction=new k(e.staticFriction,e.dynamicFriction),e.joint=new x,e.motor=new R,e.arm=new A(O.g(100),v.mm(300)),e.resetables=[e.joint,e.motor],e.graphConfig={yLabel:"degrees",xLabel:"Time (s)",tickFormater:function(e){return isNaN(e)?e:(e/1e3).toFixed(1).toString()},graphKeys:["current","target"]},e.joint.addInertia([e.arm.inertia,e.motor.inertia]),e.joint.addTorque([e.motor.torque]),e.joint.friction=e.friction,e.reset=e.reset.bind(Object(s.a)(e)),e.runStep=e.runStep.bind(Object(s.a)(e)),e.draw=e.draw.bind(Object(s.a)(e)),e}return Object(a.a)(r,[{key:"reset",value:function(){Object(o.a)(Object(u.a)(r.prototype),"reset",this).call(this);var e,t=Object(n.a)(this.resetables);try{for(t.s();!(e=t.n()).done;){e.value.reset()}}catch(i){t.e(i)}finally{t.f()}}},{key:"runStep",value:function(e){var t=this.joint.current.position.deg(),r=this.controlSystem(this.target,t,this.timeStep.s());null===r||void 0===r?this.log("Control system didn't return anything. Make sure your function will always return a number."):"number"!==typeof r&&this.log("Control system returned something that wasn't a number. Make sure your function will always return a number."),this.motor.setPower(r),this.joint.run(this.timeStep),this.data.push({time:e.ms(),target:this.target,current:t,setPoint:r})}},{key:"draw",value:function(e){var t=e.width/2,r=e.height/2,n=m(this.joint.data[this.drawStep].position.rad(),200),i=n.x,a=n.y;e.background(255),e.push(),e.strokeWeight(1),e.stroke(100),e.line(t,0,t,e.height),e.line(0,r,e.width,r),e.pop(),e.push(),e.textAlign("center","center"),e.textSize(36),e.fill(255,0,0),e.text("N",t,50),e.fill(0),e.text("S",t,e.height-50),e.text("W",50,r),e.text("E",e.width-50,r),e.pop(),e.push(),e.strokeWeight(5),e.stroke(0),e.line(t-2,r,t-2,r-100),e.stroke(255,0,0),e.line(t+2,r,t+2,r-100),e.pop(),e.push(),e.stroke(0),e.fill(255),e.strokeWeight(3),e.ellipse(t,r,100,100),e.pop(),e.push(),e.stroke(0),e.strokeWeight(2),e.ellipse(t-35,r,8,8),e.ellipse(t+35,r,8,8),e.ellipse(t,r-35,8,8),e.ellipse(t,r+35,8,8),e.pop(),e.push(),e.stroke(e.GRAY),e.strokeWeight(20),e.strokeCap("square"),e.line(t,r,t+i,r+a),e.pop(),e.push(),e.fill(0),e.noStroke(),e.ellipse(t,r,10,10),e.pop()}}]),r}(D);F.totalTime=M.a.s(3),F.timeStep=M.a.ms(5),F.initialTarget=C.deg(180);var K=F,B=function(e){Object(c.a)(r,e);var t=Object(l.a)(r);function r(){var e;return Object(i.a)(this,r),(e=t.call(this,r.totalTime,r.timeStep,"\n/*\n* Your control system!\n*\n* You are trying to point an arm at a particular angle using a Neverest\n* orbital 20. This time, we've added a weight on the end!\n* \n* Your control system is handed two things, a target angle in degrees\n* and a current angle in degrees. Based on those, you must decide what\n* to set the motor to, which is any number between -1 and 1.\n* \n* Some examples:\n*   Full power forwards: 1\n*   Full power backwards: -1\n*   Half power forwards: 0.5\n*   No power: 0\n*\n* Good luck!\n*/\n(target, current, timeStep) => {\n    if (current < target) {\n        return 1;\n    } else {\n        return -1;\n    }\n}\n\n",r.initialTarget.deg())).name="Exercise3",e.staticFriction=p.nm(.2),e.dynamicFriction=p.nm(.1),e.friction=new k(e.staticFriction,e.dynamicFriction),e.joint=new x,e.motor=new R,e.arm=new A(O.g(100),v.mm(300)),e.weight=new W(O.g(200),v.mm(300)),e.resetables=[e.joint,e.motor],e.graphConfig={yLabel:"degrees",xLabel:"Time (s)",tickFormater:function(e){return isNaN(e)?e:(e/1e3).toFixed(1).toString()},graphKeys:["current","target"]},e.joint.addInertia([e.arm.inertia,e.weight.inertia,e.motor.inertia]),e.joint.addTorque([e.motor.torque]),e.joint.friction=e.friction,e.reset=e.reset.bind(Object(s.a)(e)),e.runStep=e.runStep.bind(Object(s.a)(e)),e.draw=e.draw.bind(Object(s.a)(e)),e}return Object(a.a)(r,[{key:"reset",value:function(){Object(o.a)(Object(u.a)(r.prototype),"reset",this).call(this);var e,t=Object(n.a)(this.resetables);try{for(t.s();!(e=t.n()).done;){e.value.reset()}}catch(i){t.e(i)}finally{t.f()}}},{key:"runStep",value:function(e){var t=this.joint.current.position.deg(),r=this.controlSystem(this.target,t,this.timeStep.s());null===r||void 0===r?this.log("Control system didn't return anything. Make sure your function will always return a number."):"number"!==typeof r&&this.log("Control system returned something that wasn't a number. Make sure your function will always return a number."),this.motor.setPower(r),this.joint.run(this.timeStep),this.data.push({time:e.ms(),target:this.target,current:t,setPoint:r})}},{key:"draw",value:function(e){var t=e.width/2,r=e.height/2,n=this.joint.data[this.drawStep].position.rad(),i=m(n,200),a=m(n,180);e.background(255),e.push(),e.strokeWeight(1),e.stroke(100),e.line(t,0,t,e.height),e.line(0,r,e.width,r),e.pop(),e.push(),e.textAlign("center","center"),e.textSize(36),e.fill(255,0,0),e.text("N",t,50),e.fill(0),e.text("S",t,e.height-50),e.text("W",50,r),e.text("E",e.width-50,r),e.push(),e.strokeWeight(5),e.stroke(0),e.line(t-2,r,t-2,r-100),e.stroke(255,0,0),e.line(t+2,r,t+2,r-100),e.pop(),e.push(),e.stroke(0),e.fill(255),e.strokeWeight(3),e.ellipse(t,r,100,100),e.pop(),e.push(),e.stroke(0),e.strokeWeight(2),e.ellipse(t-35,r,8,8),e.ellipse(t+35,r,8,8),e.ellipse(t,r-35,8,8),e.ellipse(t,r+35,8,8),e.pop(),e.push(),e.stroke(e.GRAY),e.strokeWeight(20),e.strokeCap("square"),e.line(t,r,t+i.x,r+i.y),e.pop(),e.push(),e.stroke(50),e.strokeWeight(50),e.strokeCap("square"),e.line(t+a.x,r+a.y,t+i.x,r+i.y),e.pop(),e.push(),e.fill(0),e.noStroke(),e.ellipse(t,r,10,10),e.pop()}}]),r}(D);B.totalTime=M.a.s(3),B.timeStep=M.a.ms(5),B.initialTarget=C.deg(180);var q=B,U=function(e){Object(c.a)(r,e);var t=Object(l.a)(r);function r(){var e;return Object(i.a)(this,r),(e=t.call(this,r.totalTime,r.timeStep,"\n/*\n* Your control system!\n*\n* You are trying to point an arm at a particular angle using a Neverest\n* orbital 20. This time, gravity exists, and it isn't helping!\n* \n* Your control system is handed two things, a target angle in degrees\n* and a current angle in degrees. Based on those, you must decide what\n* to set the motor to, which is any number between -1 and 1.\n* \n* Some examples:\n*   Full power forwards: 1\n*   Full power backwards: -1\n*   Half power forwards: 0.5\n*   No power: 0\n*\n* Good luck!\n*/\n(target, current, timeStep) => {\n    if (current < target) {\n        return 1;\n    } else {\n        return -1;\n    }\n}\n\n",r.initialTarget.deg())).name="Exercise4",e.staticFriction=p.nm(.2),e.dynamicFriction=p.nm(.1),e.friction=new k(e.staticFriction,e.dynamicFriction),e.joint=new x,e.motor=new R,e.arm=new A(O.g(300),v.mm(300)),e.resetables=[e.joint,e.motor],e.graphConfig={yLabel:"degrees",xLabel:"Time (s)",tickFormater:function(e){return isNaN(e)?e:(e/1e3).toFixed(1).toString()},graphKeys:["current","target"]},e.gravity=e.gravity.bind(Object(s.a)(e)),e.reset=e.reset.bind(Object(s.a)(e)),e.runStep=e.runStep.bind(Object(s.a)(e)),e.draw=e.draw.bind(Object(s.a)(e)),e.joint.addInertia([e.arm.inertia,e.motor.inertia]),e.joint.addTorque([e.motor.torque,e.gravity]),e.joint.friction=e.friction,e}return Object(a.a)(r,[{key:"gravity",value:function(e){var t=9.81*this.arm.mass.kg(),r=.5*this.arm.length.m()*Math.cos(e.position.rad());return p.nm(t*r)}},{key:"reset",value:function(){Object(o.a)(Object(u.a)(r.prototype),"reset",this).call(this);var e,t=Object(n.a)(this.resetables);try{for(t.s();!(e=t.n()).done;){e.value.reset()}}catch(i){t.e(i)}finally{t.f()}}},{key:"runStep",value:function(e){var t=this.joint.current.position.deg(),r=this.controlSystem(this.target,t,this.timeStep.s());null===r||void 0===r?this.log("Control system didn't return anything. Make sure your function will always return a number."):"number"!==typeof r&&this.log("Control system returned something that wasn't a number. Make sure your function will always return a number."),this.motor.setPower(r),this.joint.run(this.timeStep),this.data.push({time:e.ms(),target:this.target,current:t,setPoint:r})}},{key:"draw",value:function(e){var t=e.width/2,r=e.height/2,n=m(this.joint.data[this.drawStep].position.rad(),200),i=n.x,a=n.y;e.background(255),e.push(),e.strokeWeight(1),e.stroke(100),e.line(t,0,t,e.height),e.line(0,r,e.width,r),e.pop(),e.push(),e.strokeWeight(5),e.stroke(0),e.line(t-2,r,t-2,r-100),e.stroke(255,0,0),e.line(t+2,r,t+2,r-100),e.pop(),e.push(),e.stroke(0),e.fill(255),e.strokeWeight(3),e.ellipse(t,r,100,100),e.pop(),e.push(),e.stroke(0),e.strokeWeight(2),e.ellipse(t-35,r,8,8),e.ellipse(t+35,r,8,8),e.ellipse(t,r-35,8,8),e.ellipse(t,r+35,8,8),e.pop(),e.push(),e.stroke(e.GRAY),e.strokeWeight(20),e.strokeCap("square"),e.line(t,r,t+i,r+a),e.pop(),e.push(),e.fill(0),e.noStroke(),e.ellipse(t,r,10,10),e.pop()}}]),r}(D);U.totalTime=M.a.s(3),U.timeStep=M.a.ms(5),U.initialTarget=C.deg(180);var N=U,Y=function(e){Object(c.a)(r,e);var t=Object(l.a)(r);function r(){var e;return Object(i.a)(this,r),(e=t.call(this,r.totalTime,r.timeStep,"\n/*\n* Your control system!\n*\n* You are trying to point an arm at a particular angle using a Neverest\n* orbital 20. This time, gravity exists, and it isn't helping!\n* \n* Your control system is handed two things, a target angle in degrees\n* and a current angle in degrees. Based on those, you must decide what\n* to set the motor to, which is any number between -1 and 1.\n* \n* Some examples:\n*   Full power forwards: 1\n*   Full power backwards: -1\n*   Half power forwards: 0.5\n*   No power: 0\n*\n* Good luck!\n*/\n(target, current, timeStep) => {\n    if (current < target) {\n        return 1;\n    } else {\n        return -1;\n    }\n}\n\n",r.initialTarget.deg())).name="Exercise5",e.staticFriction=p.nm(.2),e.dynamicFriction=p.nm(.1),e.friction=new k(e.staticFriction,e.dynamicFriction),e.joint=new x,e.motor=new R,e.arm=new A(O.g(100),v.mm(300)),e.weight=new W(O.g(200),v.mm(300)),e.resetables=[e.joint,e.motor],e.graphConfig={yLabel:"degrees",xLabel:"Time (s)",tickFormater:function(e){return isNaN(e)?e:(e/1e3).toFixed(1).toString()},graphKeys:["current","target"]},e.gravity=e.gravity.bind(Object(s.a)(e)),e.reset=e.reset.bind(Object(s.a)(e)),e.runStep=e.runStep.bind(Object(s.a)(e)),e.draw=e.draw.bind(Object(s.a)(e)),e.joint.addInertia([e.arm.inertia,e.motor.inertia]),e.joint.addTorque([e.motor.torque,e.gravity]),e.joint.friction=e.friction,e}return Object(a.a)(r,[{key:"gravity",value:function(e){var t=9.81*this.arm.mass.kg()*(.5*this.arm.length.m()*Math.cos(e.position.rad()))+9.81*this.weight.mass.kg()*(this.weight.length.m()*Math.cos(e.position.rad()));return p.nm(t)}},{key:"reset",value:function(){Object(o.a)(Object(u.a)(r.prototype),"reset",this).call(this);var e,t=Object(n.a)(this.resetables);try{for(t.s();!(e=t.n()).done;){e.value.reset()}}catch(i){t.e(i)}finally{t.f()}}},{key:"runStep",value:function(e){var t=this.joint.current.position.deg(),r=this.controlSystem(this.target,t,this.timeStep.s());null===r||void 0===r?this.log("Control system didn't return anything. Make sure your function will always return a number."):"number"!==typeof r&&this.log("Control system returned something that wasn't a number. Make sure your function will always return a number."),this.motor.setPower(r),this.joint.run(this.timeStep),this.data.push({time:e.ms(),target:this.target,current:t,setPoint:r})}},{key:"draw",value:function(e){var t=e.width/2,r=e.height/2,n=this.joint.data[this.drawStep].position.rad(),i=m(n,200),a=m(n,180);e.background(255),e.push(),e.strokeWeight(1),e.stroke(100),e.line(t,0,t,e.height),e.line(0,r,e.width,r),e.pop(),e.push(),e.strokeWeight(5),e.stroke(0),e.line(t-2,r,t-2,r-100),e.stroke(255,0,0),e.line(t+2,r,t+2,r-100),e.pop(),e.push(),e.stroke(0),e.fill(255),e.strokeWeight(3),e.ellipse(t,r,100,100),e.pop(),e.push(),e.stroke(0),e.strokeWeight(2),e.ellipse(t-35,r,8,8),e.ellipse(t+35,r,8,8),e.ellipse(t,r-35,8,8),e.ellipse(t,r+35,8,8),e.pop(),e.push(),e.stroke(e.GRAY),e.strokeWeight(20),e.strokeCap("square"),e.line(t,r,t+i.x,r+i.y),e.pop(),e.push(),e.stroke(50),e.strokeWeight(50),e.strokeCap("square"),e.line(t+a.x,r+a.y,t+i.x,r+i.y),e.pop(),e.push(),e.fill(0),e.noStroke(),e.ellipse(t,r,10,10),e.pop()}}]),r}(D);Y.totalTime=M.a.s(3),Y.timeStep=M.a.ms(5),Y.initialTarget=C.deg(180);var V=Y,G=function(e){Object(c.a)(r,e);var t=Object(l.a)(r);function r(){var e;return Object(i.a)(this,r),(e=t.call(this,r.totalTime,r.timeStep,"\n/*\n* Your control system!\n*\n* You are trying to point an arm at a particular angle using a Neverest\n* orbital 20. This time, we've added a weight on the end! Additionally,\n* we have added super special bearings that reduce friction!\n* \n* Your control system is handed two things, a target angle in degrees\n* and a current angle in degrees. Based on those, you must decide what\n* to set the motor to, which is any number between -1 and 1.\n* \n* Some examples:\n*   Full power forwards: 1\n*   Full power backwards: -1\n*   Half power forwards: 0.5\n*   No power: 0\n*\n* Good luck!\n*/\n\nlet Kp = 0.003;\n\n(target, current, timeStep) => {\n    let error = target - current;\n\n    return error * Kp;\n}\n\n",r.initialTarget.deg())).name="Exercise6",e.staticFriction=p.nm(.02),e.dynamicFriction=p.nm(.01),e.friction=new k(e.staticFriction,e.dynamicFriction),e.joint=new x,e.motor=new R,e.arm=new A(O.g(100),v.mm(300)),e.weight=new W(O.g(200),v.mm(300)),e.resetables=[e.joint,e.motor],e.graphConfig={yLabel:"degrees",xLabel:"Time (s)",tickFormater:function(e){return isNaN(e)?e:(e/1e3).toFixed(1).toString()},graphKeys:["current","target"]},e.joint.addInertia([e.arm.inertia,e.weight.inertia,e.motor.inertia]),e.joint.addTorque([e.motor.torque]),e.joint.friction=e.friction,e.reset=e.reset.bind(Object(s.a)(e)),e.runStep=e.runStep.bind(Object(s.a)(e)),e.draw=e.draw.bind(Object(s.a)(e)),e}return Object(a.a)(r,[{key:"reset",value:function(){Object(o.a)(Object(u.a)(r.prototype),"reset",this).call(this);var e,t=Object(n.a)(this.resetables);try{for(t.s();!(e=t.n()).done;){e.value.reset()}}catch(i){t.e(i)}finally{t.f()}}},{key:"runStep",value:function(e){var t=this.joint.current.position.deg(),r=this.controlSystem(this.target,t,this.timeStep.s());null===r||void 0===r?this.log("Control system didn't return anything. Make sure your function will always return a number."):"number"!==typeof r&&this.log("Control system returned something that wasn't a number. Make sure your function will always return a number."),this.motor.setPower(r),this.joint.run(this.timeStep),this.data.push({time:e.ms(),target:this.target,current:t,setPoint:r})}},{key:"draw",value:function(e){var t=e.width/2,r=e.height/2,n=this.joint.data[this.drawStep].position.rad(),i=m(n,200),a=m(n,180);e.background(255),e.push(),e.strokeWeight(1),e.stroke(100),e.line(t,0,t,e.height),e.line(0,r,e.width,r),e.pop(),e.push(),e.textAlign("center","center"),e.textSize(36),e.fill(255,0,0),e.text("N",t,50),e.fill(0),e.text("S",t,e.height-50),e.text("W",50,r),e.text("E",e.width-50,r),e.push(),e.strokeWeight(5),e.stroke(0),e.line(t-2,r,t-2,r-100),e.stroke(255,0,0),e.line(t+2,r,t+2,r-100),e.pop(),e.push(),e.stroke(0),e.fill(255),e.strokeWeight(3),e.ellipse(t,r,100,100),e.pop(),e.push(),e.stroke(0),e.strokeWeight(2),e.ellipse(t-35,r,8,8),e.ellipse(t+35,r,8,8),e.ellipse(t,r-35,8,8),e.ellipse(t,r+35,8,8),e.pop(),e.push(),e.stroke(e.GRAY),e.strokeWeight(20),e.strokeCap("square"),e.line(t,r,t+i.x,r+i.y),e.pop(),e.push(),e.stroke(50),e.strokeWeight(50),e.strokeCap("square"),e.line(t+a.x,r+a.y,t+i.x,r+i.y),e.pop(),e.push(),e.fill(0),e.noStroke(),e.ellipse(t,r,10,10),e.pop()}}]),r}(D);G.totalTime=M.a.s(3),G.timeStep=M.a.ms(5),G.initialTarget=C.deg(180);var z=G,H=function(e){Object(c.a)(r,e);var t=Object(l.a)(r);function r(){var e;return Object(i.a)(this,r),(e=t.call(this,r.totalTime,r.timeStep,"\n/*\n* Your control system!\n*\n* You are controlling an elevator, and need to up to the top floor.\n* This elevator is empty, so the counterweight removes all affects \n* of gravity.\n* \n* Your control system is handed a target floor and a current floor, \n* where the ground floor is 0, first floor is 1, etc. If the elevator\n* is between floors, you get a floating point number, e.g. 0.5.\n* Based on those, you must decide what to set the motor to, which is \n* any number between -1 and 1.\n*\n* Good luck!\n*/\n\nlet Kp = 0;\nlet Kd = 0;\nlet previous = 0;\n\n(target, current, timeStep) => {\n    let error = target - current;\n    let changeInError = (current - previous) / timeStep;\n    previous = current;\n\n    return error * Kp + changeInError * Kd;\n}\n\n",r.initialTarget)).name="Exercise7",e.staticFriction=p.nm(.02),e.dynamicFriction=p.nm(.01),e.friction=new k(e.staticFriction,e.dynamicFriction),e.joint=new x,e.motor=new R,e.car=new W(O.kg(1),v.mm(300)),e.resetables=[e.joint,e.motor],e.graphConfig={yLabel:"floor",xLabel:"Time (s)",tickFormater:function(e){return isNaN(e)?e:(e/1e3).toFixed(1).toString()},graphKeys:["current","target"]},e.joint.addInertia([e.car.inertia,e.motor.inertia]),e.joint.addTorque([e.motor.torque]),e.joint.friction=e.friction,e.reset=e.reset.bind(Object(s.a)(e)),e.runStep=e.runStep.bind(Object(s.a)(e)),e.draw=e.draw.bind(Object(s.a)(e)),e}return Object(a.a)(r,[{key:"reset",value:function(){Object(o.a)(Object(u.a)(r.prototype),"reset",this).call(this);var e,t=Object(n.a)(this.resetables);try{for(t.s();!(e=t.n()).done;){e.value.reset()}}catch(i){t.e(i)}finally{t.f()}}},{key:"runStep",value:function(e){var t=this.joint.current.position.deg()/1800,r=this.controlSystem(this.target,t,this.timeStep.s());null===r||void 0===r?this.log("Control system didn't return anything. Make sure your function will always return a number."):"number"!==typeof r&&this.log("Control system returned something that wasn't a number. Make sure your function will always return a number."),this.motor.setPower(r),this.joint.run(this.timeStep),this.data.push({time:e.ms(),target:this.target,current:t,setPoint:r})}},{key:"draw",value:function(e){var t=e.width/2,r=this.joint.data[this.drawStep].position.deg()/1800,n=e.height/5,i=n,a=.75*n;e.background(255),e.push(),e.noStroke(),e.fill(207,91,85),e.rect(0,n,t,e.height),e.pop(),e.push(),e.noStroke(),e.fill(100,100,100),e.rect(t,0,2*a,e.height),e.pop(),e.push(),e.noStroke(),e.fill(0),e.ellipse(t+a,n/2,a,a),e.pop(),e.push(),e.stroke(0),e.strokeWeight(2),e.fill(171,164,87),e.rect(t,e.height-i-r*i,a,i),e.pop(),e.push(),e.fill(0),e.rect(t+a+10,i*(r+1),a-20,i),e.pop(),e.push(),e.stroke(0),e.strokeWeight(2),e.line(t+a/2,i/2,t+a/2,e.height-i*(r+1)),e.line(t+1.5*a,i/2,t+1.5*a,i*(r+1)),e.pop();for(var s=0;s<4;s++){e.push(),e.stroke(0),e.strokeWeight(5);var o=e.height-s*n;e.line(0,o,t,o),e.pop()}}}]),r}(D);H.totalTime=M.a.s(9),H.timeStep=M.a.ms(5),H.initialTarget=3;var J=H,$=function(e){Object(c.a)(r,e);var t=Object(l.a)(r);function r(){var e;return Object(i.a)(this,r),(e=t.call(this,r.totalTime,r.timeStep,"\n/*\n* Your control system!\n*\n* You are controlling an elevator, and need to up to the top floor.\n* This elevator is no longer empty, and you must contend with gravity!\n* \n* Your control system is handed a target floor and a current floor, \n* where the ground floor is 0, first floor is 1, etc. If the elevator\n* is between floors, you get a floating point number e.g. 0.5.\n* Based on those, you must decide what to set the motor to, which is \n* any number between -1 and 1.\n*\n* Good luck!\n*/\n\nlet Kp = 0;\nlet Kd = 0;\nlet previous = 0;\n\n(target, current, timeStep) => {\n    let error = target - current;\n    let changeInError = (current - previous) / timeStep;\n    previous = current;\n\n    return error * Kp + changeInError * Kd;\n}\n\n",r.initialTarget)).name="Exercise8",e.initialState={position:C.deg(3600),velocity:f.radS(0),acceleration:T.radS2(0),torque:p.nm(0)},e.staticFriction=p.nm(.02),e.dynamicFriction=p.nm(.01),e.friction=new k(e.staticFriction,e.dynamicFriction),e.joint=new x(e.initialState),e.motor=new R,e.car=new W(O.kg(1),v.mm(300)),e.resetables=[e.joint,e.motor],e.graphConfig={yLabel:"floor",xLabel:"Time (s)",tickFormater:function(e){return isNaN(e)?e:(e/1e3).toFixed(1).toString()},graphKeys:["current","target"]},e.reset=e.reset.bind(Object(s.a)(e)),e.runStep=e.runStep.bind(Object(s.a)(e)),e.draw=e.draw.bind(Object(s.a)(e)),e.gravity=e.gravity.bind(Object(s.a)(e)),e.joint.addInertia([e.car.inertia,e.motor.inertia]),e.joint.addTorque([e.motor.torque,e.gravity]),e.joint.friction=e.friction,e}return Object(a.a)(r,[{key:"reset",value:function(){Object(o.a)(Object(u.a)(r.prototype),"reset",this).call(this);var e,t=Object(n.a)(this.resetables);try{for(t.s();!(e=t.n()).done;){e.value.reset()}}catch(i){t.e(i)}finally{t.f()}}},{key:"gravity",value:function(e){return e.position.deg()>0?p.nm(-1):p.nm(0)}},{key:"runStep",value:function(e){var t=this.joint.current.position.deg()/1800,r=this.controlSystem(this.target,t,this.timeStep.s());null===r||void 0===r?this.log("Control system didn't return anything. Make sure your function will always return a number."):"number"!==typeof r&&this.log("Control system returned something that wasn't a number. Make sure your function will always return a number."),this.motor.setPower(r),this.joint.run(this.timeStep),this.data.push({time:e.ms(),target:this.target,current:t,setPoint:r})}},{key:"draw",value:function(e){var t=e.width/2,r=this.joint.data[this.drawStep].position.deg()/1800,n=e.height/5,i=n,a=.75*n;e.background(255),e.push(),e.noStroke(),e.fill(207,91,85),e.rect(0,n,t,e.height),e.pop(),e.push(),e.noStroke(),e.fill(100,100,100),e.rect(t,0,2*a,e.height),e.pop(),e.push(),e.noStroke(),e.fill(0),e.ellipse(t+a,n/2,a,a),e.pop(),e.push(),e.stroke(0),e.strokeWeight(2),e.fill(171,164,87),e.rect(t,e.height-i-r*i,a,i),e.pop(),e.push(),e.fill(0),e.rect(t+a+10,i*(r+1),a-20,i),e.pop(),e.push(),e.stroke(0),e.strokeWeight(2),e.line(t+a/2,i/2,t+a/2,e.height-i*(r+1)),e.line(t+1.5*a,i/2,t+1.5*a,i*(r+1)),e.pop(),e.push(),e.noStroke(),e.fill(100,70,30),e.rect(t+a/4,e.height-i/2-r*i,a/2,i/2),e.pop();for(var s=0;s<4;s++){e.push(),e.stroke(0),e.strokeWeight(5);var o=e.height-s*n;e.line(0,o,t,o),e.pop()}}}]),r}(D);$.totalTime=M.a.s(9),$.timeStep=M.a.ms(5),$.initialTarget=0;var Q=$;t.a=function(e){switch(e){default:return new L;case"2":return new K;case"3":return new q;case"4":return new N;case"5":return new V;case"6":return new z;case"7":return new J;case"8":return new Q}}},206:function(e,t,r){},207:function(e,t,r){},21:function(e,t,r){"use strict";var n=r(4),i=r(10),a=r(12),s=r(13),o=function(e){Object(a.a)(r,e);var t=Object(s.a)(r);function r(e){return Object(n.a)(this,r),t.call(this,e)}return Object(i.a)(r,[{key:"s",value:function(){return this.value}},{key:"ms",value:function(){return 1e3*this.value}}],[{key:"s",value:function(e){return new r(e)}},{key:"ms",value:function(e){return new r(e/1e3)}}]),r}(r(29).a);t.a=o},217:function(e,t,r){},29:function(e,t,r){"use strict";var n=r(4),i=r(10),a=function(){function e(t){Object(n.a)(this,e),this.value=void 0,this.value=t}return Object(i.a)(e,[{key:"equals",value:function(e){return this.value===e.value}},{key:"isPositive",value:function(){return this.value>=0}},{key:"isNegative",value:function(){return!this.isPositive()}},{key:"negate",value:function(){var e=Object.create(this);return e.value=-this.value,e}}]),e}();t.a=a},355:function(e,t,r){},357:function(e,t,r){"use strict";r.r(t);var n=r(0),i=r.n(n),a=r(76),s=r.n(a),o=(r(206),r(171)),u=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,367)).then((function(t){var r=t.getCLS,n=t.getFID,i=t.getFCP,a=t.getLCP,s=t.getTTFB;r(e),n(e),i(e),a(e),s(e)}))},c=(r(356),r(2));s.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(o.a,{})}),document.getElementById("root")),u()}},[[357,1,2]]]);
//# sourceMappingURL=main.f0513dca.chunk.js.map