(this["webpackJsonpcontrol-systems-trainer"]=this["webpackJsonpcontrol-systems-trainer"]||[]).push([[0],{171:function(module,__webpack_exports__,__webpack_require__){"use strict";var C_src_frc_control_systems_trainer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),C_src_frc_control_systems_trainer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),C_src_frc_control_systems_trainer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(10),C_src_frc_control_systems_trainer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(12),C_src_frc_control_systems_trainer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(13),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),react_bootstrap_Container__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(95),react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(46),react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(53),_App_css__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(207),_App_css__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(_App_css__WEBPACK_IMPORTED_MODULE_9__),_Editor_Editor__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(174),_Graph_Graph__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(176),_Preview_Preview__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(191),_Console_Console__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(193),_Sim_Sim__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(194),_Sim_Physics_Units_Time__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(19),_Exercises_ExerciseFactory__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(195),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(2),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__);function getParams(){return new URLSearchParams(window.location.search)}var App=function(_React$Component){Object(C_src_frc_control_systems_trainer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_3__.a)(App,_React$Component);var _super=Object(C_src_frc_control_systems_trainer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_4__.a)(App);function App(t){var e;Object(C_src_frc_control_systems_trainer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,App),(e=_super.call(this,t)).sim=void 0,e.exercise=void 0,e.displayTimerHandle=void 0,e.logBuffer=[],e.startDisplay=e.startDisplay.bind(Object(C_src_frc_control_systems_trainer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__.a)(e)),e.displayCallback=e.displayCallback.bind(Object(C_src_frc_control_systems_trainer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__.a)(e)),e.run=e.run.bind(Object(C_src_frc_control_systems_trainer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__.a)(e)),e.print=e.print.bind(Object(C_src_frc_control_systems_trainer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__.a)(e)),e.state={graphData:[],logMessages:[],displayTime:0};var r=getParams();return e.exercise=Object(_Exercises_ExerciseFactory__WEBPACK_IMPORTED_MODULE_16__.a)(r.get("exercise")),e.exercise.log=e.print,e.sim=new _Sim_Sim__WEBPACK_IMPORTED_MODULE_14__.a((function(t){return e.setState({graphData:t})})),window.print=e.print,e}return Object(C_src_frc_control_systems_trainer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(App,[{key:"run",value:function run(code){void 0!==this.displayTimerHandle&&(window.clearInterval(this.displayTimerHandle),this.displayTimerHandle=void 0);var func=void 0;try{func=eval(code)}catch(e){return void this.setState({logMessages:[{level:"error",message:e.message}]})}func instanceof Function?(this.exercise.controlSystem=func,this.logBuffer=[],this.exercise.reset(),this.sim.setup(this.exercise),this.sim.run(),window.setTimeout(this.startDisplay,1500)):this.setState({logMessages:[{level:"error",message:"Function not found. Make sure you haven't changed the original control system function."}]})}},{key:"startDisplay",value:function(){this.setState({logMessages:this.logBuffer}),this.exercise.drawStep=0,this.setState({displayTime:0}),this.displayTimerHandle=window.setInterval(this.displayCallback,App.DisplayStep.ms())}},{key:"displayCallback",value:function(){this.exercise.drawStep+=App.DisplayStep.ms()/this.exercise.timeStep.ms();var t=this.state.displayTime+App.DisplayStep.ms();t>=this.exercise.totalTime.ms()?(clearInterval(this.displayTimerHandle),this.displayTimerHandle=void 0,this.setState({displayTime:0})):this.setState({displayTime:t})}},{key:"print",value:function(t){var e;switch(typeof t){case"string":e=t;break;case"boolean":e=t?"true":"false";break;case"number":e=t.toString();break;case"object":e=JSON.stringify(t);break;default:e=void 0}e&&this.logBuffer.push({level:"log",message:e})}},{key:"render",value:function(){var t=this;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(react_bootstrap_Container__WEBPACK_IMPORTED_MODULE_6__.a,{fluid:!0,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_7__.a,{className:"app",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_8__.a,{xs:6,className:"section",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_7__.a,{className:"editor",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_Editor_Editor__WEBPACK_IMPORTED_MODULE_10__.a,{exerciseName:this.exercise.name,initialValue:this.exercise.starterCode,initialTarget:this.exercise.target,initialTime:this.exercise.totalTime.s(),onRun:this.run,onTimeChange:function(e){t.exercise.totalTime=_Sim_Physics_Units_Time__WEBPACK_IMPORTED_MODULE_15__.a.s(e)},onTargetChange:function(e){t.exercise.target=e}})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_7__.a,{className:"console",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_Console_Console__WEBPACK_IMPORTED_MODULE_13__.a,{logMessages:this.state.logMessages})})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_8__.a,{xs:6,className:"section",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_7__.a,{className:"preview",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_Preview_Preview__WEBPACK_IMPORTED_MODULE_12__.a,{draw:this.exercise.draw})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_7__.a,{className:"graph",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_Graph_Graph__WEBPACK_IMPORTED_MODULE_11__.a,{data:this.state.graphData,config:this.exercise.graphConfig,cursor:this.state.displayTime})})]})]})})}}]),App}(react__WEBPACK_IMPORTED_MODULE_5___default.a.Component);App.DisplayStep=_Sim_Physics_Units_Time__WEBPACK_IMPORTED_MODULE_15__.a.ms(15),__webpack_exports__.a=App},174:function(t,e,r){"use strict";var n=r(3),i=r(6),a=r(10),o=r(12),s=r(13),u=r(0),c=r.n(u),l=r(175),h=r.n(l),_=(r(215),r(216),r(121)),d=r.n(_),p=r(95),m=r(46),g=r(53),b=r(130),f=(r(217),r(104)),y=r(198),v=r(2),j=function(t){Object(o.a)(r,t);var e=Object(s.a)(r);function r(t){var i;return Object(n.a)(this,r),(i=e.call(this,t)).editor=void 0,i.state=void 0,i.state={timeValue:t.initialTime,targetValue:t.initialTarget},i.editor=null,i.onTimeChange=i.onTimeChange.bind(Object(a.a)(i)),i.onTargetChange=i.onTargetChange.bind(Object(a.a)(i)),i.onCodeChange=i.onCodeChange.bind(Object(a.a)(i)),i.setup=i.setup.bind(Object(a.a)(i)),i.reset=i.reset.bind(Object(a.a)(i)),i.run=i.run.bind(Object(a.a)(i)),i}return Object(i.a)(r,[{key:"setup",value:function(t){this.editor=t;var e=d.a.get(this.props.exerciseName)||this.props.initialValue;this.editor.setValue(e,-1)}},{key:"reset",value:function(){if(this.editor){var t=this.props.initialValue;this.editor.setValue(t,-1)}}},{key:"run",value:function(){this.props.onRun(this.editor?this.editor.getValue():"")}},{key:"onTimeChange",value:function(t){this.setState({timeValue:t}),this.props.onTimeChange(t)}},{key:"onTargetChange",value:function(t){this.setState({targetValue:t}),this.props.onTargetChange(t)}},{key:"onCodeChange",value:function(t){d.a.set(this.props.exerciseName,t)}},{key:"render",value:function(){var t=this;return Object(v.jsxs)(p.a,{className:"editorContainer",children:[Object(v.jsxs)(m.a,{className:"justify-content-between",children:[Object(v.jsx)(g.a,{xs:"auto",children:Object(v.jsx)(b.a,{variant:"primary",onClick:this.reset.bind(this),children:"Reset"})}),Object(v.jsx)(g.a,{children:Object(v.jsxs)(f.a,{children:[Object(v.jsx)(f.a.Text,{children:"Time (s)"}),Object(v.jsx)(y.a,{onChange:function(e){return t.onTimeChange(parseFloat(e.target.value))},value:this.state.timeValue,type:"number"})]})}),Object(v.jsx)(g.a,{children:Object(v.jsxs)(f.a,{children:[Object(v.jsx)(f.a.Text,{children:"Target"}),Object(v.jsx)(y.a,{onChange:function(e){return t.onTargetChange(parseFloat(e.target.value))},value:this.state.targetValue,type:"number"})]})}),Object(v.jsx)(g.a,{xs:"auto",children:Object(v.jsx)(b.a,{variant:"success",onClick:this.run,children:"Run"})})]}),Object(v.jsx)(m.a,{className:"editorRow",children:Object(v.jsx)(h.a,{mode:"javascript",theme:"github",name:"editor",editorProps:{$blockScrolling:!0},height:"100%",width:"100%",onLoad:this.setup,onChange:this.onCodeChange})})]})}}]),r}(c.a.Component);e.a=j},176:function(t,e,r){"use strict";var n=r(358),i=r(359),a=r(73),o=r(126),s=r(36),u=r(127),c=r(125),l=r(360),h=r(129),_=r(71),d=r(2),p=["#f95d6a","#003f5c","#2f4b7c","#665191","#a05195","#d45087","#ff7c43","#ffa600"];e.a=function(t){return Object(d.jsx)("div",{children:Object(d.jsx)(n.a,{width:"100%",height:"100%",children:Object(d.jsxs)(i.a,{data:t.data,margin:{top:15,right:15,left:30,bottom:30},children:[Object(d.jsx)(a.a,{labelFormatter:function(t){return"time: "+(parseInt(t)/1e3).toFixed(2)+"s"},formatter:function(t){return parseFloat(t).toFixed(2)}}),Object(d.jsx)(o.a,{dataKey:"time",tickFormatter:t.config.tickFormater,children:t.config.xLabel?Object(d.jsx)(s.a,{position:"insideBottomLeft",offset:-10,children:t.config.xLabel}):""}),Object(d.jsx)(u.a,{children:t.config.yLabel?Object(d.jsx)(s.a,{position:"left",angle:-90,children:t.config.yLabel}):""}),Object(d.jsx)(c.a,{x:t.cursor,stroke:"black"}),Object(d.jsx)(l.a,{strokeDasharray:"3 3"}),t.config.graphKeys?t.config.graphKeys.map((function(t,e){return Object(d.jsx)(h.a,{dataKey:t,stroke:p[e],dot:!1},e)})):null,Object(d.jsx)(_.a,{})]})})})}},19:function(t,e,r){"use strict";var n=r(3),i=r(6),a=r(12),o=r(13),s=function(t){Object(a.a)(r,t);var e=Object(o.a)(r);function r(t){return Object(n.a)(this,r),e.call(this,t)}return Object(i.a)(r,[{key:"s",value:function(){return this.value}},{key:"ms",value:function(){return 1e3*this.value}}],[{key:"s",value:function(t){return new r(t)}},{key:"ms",value:function(t){return new r(t/1e3)}}]),r}(r(30).a);e.a=s},191:function(t,e,r){"use strict";var n=r(24),i=r(0),a=r(192),o=r.n(a),s=r(2);e.a=function(t){var e=Object(i.useState)(0),r=Object(n.a)(e,2),a=r[0],u=r[1],c=Object(i.useState)(0),l=Object(n.a)(c,2),h=l[0],_=l[1],d=Object(i.useCallback)((function(t){if(null!==t&&0===a&&0===h){var e=t.getBoundingClientRect().height,r=t.getBoundingClientRect().width,n=getComputedStyle(t);e-=parseInt(n.marginTop)+parseInt(n.marginBottom)+parseInt(n.paddingTop)+parseInt(n.paddingBottom),r-=parseInt(n.marginLeft)+parseInt(n.marginRight)+parseInt(n.paddingLeft)+parseInt(n.paddingRight),_(Math.floor(e)),u(Math.floor(r))}}),[h,a]);return Object(s.jsx)("div",{style:{width:"95%",height:"95%",margin:"10px",padding:"0px"},ref:d,children:0!==h&&0!==a?Object(s.jsx)(o.a,{setup:function(t,e){t.createCanvas(a,h).parent(e)},draw:function(e){t.draw(e)}}):Object(s.jsx)("div",{})})}},193:function(t,e,r){"use strict";r(355);var n=r(2);e.a=function(t){return Object(n.jsx)("div",{className:"consoleBox",children:t.logMessages.map((function(t,e){var r="log"===t.level?"text-secondary":"warn"===t.level?"text-warning":"error"===t.level?"text-danger":"";return Object(n.jsx)("p",{className:r,children:t.message},e)}))})}},194:function(t,e,r){"use strict";var n=r(3),i=r(6),a=function(){function t(e){Object(n.a)(this,t),this.exercise=void 0,this.updateGraphData=void 0,this.updateGraphData=e}return Object(i.a)(t,[{key:"setup",value:function(t){this.exercise=t}},{key:"run",value:function(){this.exercise&&(this.exercise.reset(),this.exercise.run(),this.updateGraphData(this.exercise.data))}}]),t}();e.a=a},195:function(t,e,r){"use strict";var n=r(15),i=r(3),a=r(6),o=r(10),s=r(27),u=r(23),c=r(12),l=r(13),h=r(30),_=function(t){Object(c.a)(r,t);var e=Object(l.a)(r);function r(t){return Object(i.a)(this,r),e.call(this,t)}return Object(a.a)(r,[{key:"nm",value:function(){return this.value}},{key:"oz_in",value:function(){return this.value/r.ozIn_to_nm}},{key:"lb_ft",value:function(){return this.value/r.lbFt_to_nm}}],[{key:"nm",value:function(t){return new r(t)}},{key:"oz_in",value:function(t){return new r(t*r.ozIn_to_nm)}},{key:"lb_ft",value:function(t){return new r(t*r.lbFt_to_nm)}}]),r}(h.a);_.ozIn_to_nm=.007062,_.lbFt_to_nm=1.35584;var d=_,p=function(t){Object(c.a)(r,t);var e=Object(l.a)(r);function r(t){return Object(i.a)(this,r),e.call(this,t)}return Object(a.a)(r,[{key:"v",value:function(){return this.value}}],[{key:"v",value:function(t){return new r(t)}}]),r}(h.a);function m(t,e){return{x:e*Math.cos(t),y:e*Math.sin(t)}}var g=function(){function t(e,r,n,a,o,s,u,c,l,h){Object(i.a)(this,t),this.operatingVoltage=void 0,this.stallTorque=void 0,this.stallCurrent=void 0,this.breakawayTorque=void 0,this.noLoadSpeed=void 0,this.noLoadCurrent=void 0,this.rotorRadius=void 0,this.rotorMass=void 0,this.gearRatio=void 0,this.electricalConstant=void 0,this.suppliedVoltage=void 0,this.resistance=void 0,this.operatingVoltage=e,this.stallTorque=r,this.stallCurrent=n,this.breakawayTorque=a,this.noLoadSpeed=o,this.noLoadCurrent=s,this.rotorRadius=c,this.rotorMass=l,this.gearRatio=h,this.resistance=u,this.electricalConstant=this.stallTorque.nm()/this.operatingVoltage.v(),this.suppliedVoltage=p.v(0),this.reset=this.reset.bind(this),this.setPower=this.setPower.bind(this),this.inertia=this.inertia.bind(this),this.torque=this.torque.bind(this)}return Object(a.a)(t,[{key:"reset",value:function(){this.suppliedVoltage=p.v(0)}},{key:"setPower",value:function(t){var e,r,n;n=1,t=(e=t)<(r=-1)?r:e>n?n:e,this.suppliedVoltage=p.v(this.operatingVoltage.v()*t)}},{key:"inertia",value:function(){return.5*this.rotorMass.kg()*Math.pow(this.rotorRadius.m(),2)*Math.pow(this.gearRatio,2)}},{key:"torque",value:function(t){var e=(this.suppliedVoltage.v()-this.electricalConstant*t.velocity.radS())/this.resistance*this.electricalConstant;return d.nm(e)}}]),t}(),b=function(t){Object(c.a)(r,t);var e=Object(l.a)(r);function r(t){return Object(i.a)(this,r),e.call(this,t)}return Object(a.a)(r,[{key:"radS",value:function(){return this.value}},{key:"rps",value:function(){return this.value/r.rps_to_radS}},{key:"rpm",value:function(){return this.value/r.rpm_to_radS}}],[{key:"radS",value:function(t){return new r(t)}},{key:"rps",value:function(t){return new r(t*r.rps_to_radS)}},{key:"rpm",value:function(t){return new r(t*r.rpm_to_radS)}}]),r}(h.a);b.rps_to_radS=2*Math.PI,b.rpm_to_radS=2*Math.PI/60;var f=b,y=function(t){Object(c.a)(r,t);var e=Object(l.a)(r);function r(t){return Object(i.a)(this,r),e.call(this,t)}return Object(a.a)(r,[{key:"a",value:function(){return this.value}}],[{key:"a",value:function(t){return new r(t)}}]),r}(h.a),v=function(t){Object(c.a)(r,t);var e=Object(l.a)(r);function r(t){return Object(i.a)(this,r),e.call(this,t)}return Object(a.a)(r,[{key:"m",value:function(){return this.value}},{key:"mm",value:function(){return 1e3*this.value}}],[{key:"m",value:function(t){return new r(t)}},{key:"mm",value:function(t){return new r(t/1e3)}}]),r}(h.a),j=function(t){Object(c.a)(r,t);var e=Object(l.a)(r);function r(t){return Object(i.a)(this,r),e.call(this,t)}return Object(a.a)(r,[{key:"kg",value:function(){return this.value}},{key:"g",value:function(){return 1e3*this.value}},{key:"lbs",value:function(){return this.value/r.lbs_to_kg}}],[{key:"kg",value:function(t){return new r(t)}},{key:"g",value:function(t){return new r(t/1e3)}},{key:"lbs",value:function(t){return new r(t*r.lbs_to_kg)}}]),r}(h.a);j.lbs_to_kg=.4536;var w=j,O=function(t){Object(c.a)(r,t);var e=Object(l.a)(r);function r(){return Object(i.a)(this,r),e.call(this,r.operatingVoltage,r.stallTorque,r.stallCurrent,r.breakawayTorque,r.noLoadSpeed,r.noLoadCurrent,r.resistance,r.rotorRadius,r.rotorMass,r.gearRatio)}return r}(g);O.operatingVoltage=p.v(12),O.stallTorque=d.nm(.71),O.stallCurrent=y.a(134),O.breakawayTorque=d.nm(.05),O.noLoadSpeed=f.rpm(18700),O.noLoadCurrent=y.a(.7),O.resistance=.1,O.rotorRadius=v.mm(12.5),O.rotorMass=w.lbs(.5),O.gearRatio=1;var k=function(){function t(e,r){Object(i.a)(this,t),this.staticFriction=void 0,this.dynamicFriction=void 0,this.staticFriction=e,this.dynamicFriction=r}return Object(a.a)(t,[{key:"torque",value:function(t,e){return 0===t.radS()&&Math.abs(e.nm())<=this.staticFriction.nm()?e.negate():e.isPositive()?this.dynamicFriction.negate():this.dynamicFriction}}]),t}(),S=r(128),E=function(t){Object(c.a)(r,t);var e=Object(l.a)(r);function r(t){return Object(i.a)(this,r),e.call(this,t)}return Object(a.a)(r,[{key:"rad",value:function(){return this.value}},{key:"deg",value:function(){return this.value/r.deg2rad}},{key:"rot",value:function(){return this.value/r.rot2rad}}],[{key:"rad",value:function(t){return new r(t)}},{key:"deg",value:function(t){return new r(t*r.deg2rad)}},{key:"rot",value:function(t){return new r(t*r.rot2rad)}}]),r}(h.a);E.deg2rad=2*Math.PI/360,E.rot2rad=2*Math.PI;var T=E,C=function(t){Object(c.a)(r,t);var e=Object(l.a)(r);function r(t){return Object(i.a)(this,r),e.call(this,t)}return Object(a.a)(r,[{key:"radS2",value:function(){return this.value}}],[{key:"radS2",value:function(t){return new r(t)}}]),r}(h.a),x=function(){function t(e){Object(i.a)(this,t),this.initialState=void 0,this.data=void 0,this.torques=void 0,this.inertias=void 0,this.friction=void 0,e?(this.initialState=e,this.data=[e]):this.data=[{position:T.rad(0),velocity:f.radS(0),acceleration:C.radS2(0),torque:d.nm(0)}],this.torques=[],this.inertias=[]}return Object(a.a)(t,[{key:"addTorque",value:function(t){var e;Array.isArray(t)?(e=this.torques).push.apply(e,Object(S.a)(t)):this.torques.push(t)}},{key:"addInertia",value:function(t){var e;Array.isArray(t)?(e=this.inertias).push.apply(e,Object(S.a)(t)):this.inertias.push(t)}},{key:"reset",value:function(){this.initialState?this.data=[this.initialState]:this.data=[{position:T.rad(0),velocity:f.radS(0),acceleration:C.radS2(0),torque:d.nm(0)}]}},{key:"current",get:function(){return this.data[this.data.length-1]}},{key:"run",value:function(t){var e=this,r=this.inertias.reduce((function(t,r){return t+r(e.current)}),0),n=this.torques.reduce((function(t,r){return t+r(e.current).nm()}),0);this.friction&&(n+=this.friction.torque(this.current.velocity,d.nm(n)).nm());var i=C.radS2(n/r),a=f.radS(this.current.velocity.radS()+i.radS2()*t.s()),o=T.rad(this.current.position.rad()+a.radS()*t.s());this.data.push({position:o,velocity:a,acceleration:i,torque:d.nm(n)})}}]),t}(),M=r(19),P=function(t){Object(c.a)(r,t);var e=Object(l.a)(r);function r(){return Object(i.a)(this,r),e.call(this,r.radius,r.mass)}return r}(function(){function t(e,r){Object(i.a)(this,t),this.radius=void 0,this.mass=void 0,this.radius=e,this.mass=r,this.inertia=this.inertia.bind(this)}return Object(a.a)(t,[{key:"inertia",value:function(){return.5*this.mass.kg()*Math.pow(this.radius.m(),2)}}]),t}());P.radius=v.mm(100),P.mass=w.kg(4);var D=function(){function t(e,r,n,a){Object(i.a)(this,t),this.name=void 0,this.data=void 0,this.totalTime=void 0,this.timeStep=void 0,this.starterCode=void 0,this.target=void 0,this.controlSystem=void 0,this.graphConfig=void 0,this.drawStep=void 0,this.log=void 0,this.data=[],this.totalTime=e,this.timeStep=r,this.starterCode=n,this.target=a,this.log=function(){},this.controlSystem=function(){return 0},this.drawStep=0}return Object(a.a)(t,[{key:"reset",value:function(){this.data=[]}},{key:"run",value:function(){for(var t=0;t<this.totalTime.ms();t+=this.timeStep.ms())this.runStep(M.a.ms(t))}}]),t}(),I=function(t){Object(c.a)(r,t);var e=Object(l.a)(r);function r(){var t;return Object(i.a)(this,r),(t=e.call(this,r.totalTime,r.timeStep,"\n/*\n* Your control system!\n*\n* You are trying to control a 775 pro to spin a\n* steel flywheel at 10 revolutions per second (rps).\n* \n* Your control system is handed two things, a target rps\n* and a current rps. Based on those, you must decide what\n* to set the motor to, which is any number between -1 and 1.\n* \n* Some examples:\n*   Full power forwards: 1\n*   Full power backwards: -1\n*   Half power forwards: 0.5\n*   No power: 0\n*\n* Good luck!\n*/\n(target, current, timeStep) => {\n    return 0;\n}\n\n",r.initialTarget.rps())).name="Exercise1",t.staticFriction=d.nm(.2),t.dynamicFriction=d.nm(.1),t.friction=new k(t.staticFriction,t.dynamicFriction),t.joint=new x,t.motor=new O,t.wheel=new P,t.resetables=[t.joint,t.motor],t.graphConfig={yLabel:"rps",xLabel:"Time (s)",tickFormater:function(t){return isNaN(t)?t:(t/1e3).toFixed(1).toString()},graphKeys:["current","target"]},t.joint.addInertia([t.wheel.inertia,t.motor.inertia]),t.joint.addTorque([t.motor.torque]),t.joint.friction=t.friction,t.reset=t.reset.bind(Object(o.a)(t)),t.runStep=t.runStep.bind(Object(o.a)(t)),t.draw=t.draw.bind(Object(o.a)(t)),t}return Object(a.a)(r,[{key:"reset",value:function(){Object(s.a)(Object(u.a)(r.prototype),"reset",this).call(this);var t,e=Object(n.a)(this.resetables);try{for(e.s();!(t=e.n()).done;){t.value.reset()}}catch(i){e.e(i)}finally{e.f()}}},{key:"runStep",value:function(t){var e=this.joint.current.velocity.rps(),r=this.controlSystem(this.target,e,this.timeStep.s());null===r||void 0===r?this.log("Control system didn't return anything. Make sure your function will always return a number."):"number"!==typeof r&&this.log("Control system returned something that wasn't a number. Make sure your function will always return a number."),this.motor.setPower(r),this.joint.run(this.timeStep),this.data.push({time:t.ms(),target:this.target,current:e,setPoint:r})}},{key:"draw",value:function(t){var e=t.width/2,r=t.height/2,n=m(this.joint.data[this.drawStep]?this.joint.data[this.drawStep].position.rad():0,75),i=n.x,a=n.y;t.background(255),t.fill(66,135,245),t.noStroke(),t.ellipse(e,r,200,200),t.fill(66,245,111),t.noStroke(),t.ellipse(e+i,r+a,20,20)}}]),r}(D);I.totalTime=M.a.s(5),I.timeStep=M.a.ms(5),I.initialTarget=f.rps(10);var L=I,F=function(t){Object(c.a)(r,t);var e=Object(l.a)(r);function r(){return Object(i.a)(this,r),e.call(this,r.operatingVoltage,r.stallTorque,r.stallCurrent,r.breakawayTorque,r.noLoadSpeed,r.noLoadCurrent,r.resistance,r.rotorRadius,r.rotorMass,r.gearRatio)}return r}(g);F.operatingVoltage=p.v(12),F.stallTorque=d.nm(3.32),F.stallCurrent=y.a(11.5),F.breakawayTorque=d.oz_in(6.4),F.noLoadSpeed=f.rpm(285),F.noLoadCurrent=y.a(.2),F.resistance=1,F.rotorRadius=v.mm(12),F.rotorMass=w.g(83),F.gearRatio=19.2;var R=function(){function t(e,r){Object(i.a)(this,t),this.mass=void 0,this.length=void 0,this.mass=e,this.length=r,this.inertia=this.inertia.bind(this)}return Object(a.a)(t,[{key:"inertia",value:function(){return this.mass.kg()*Math.pow(this.length.m(),2)}}]),t}(),W=function(){function t(e,r){Object(i.a)(this,t),this.mass=void 0,this.length=void 0,this.mass=e,this.length=r,this.inertia=this.inertia.bind(this)}return Object(a.a)(t,[{key:"inertia",value:function(){return this.mass.kg()*Math.pow(this.length.m(),2)/3}}]),t}(),K=function(t){Object(c.a)(r,t);var e=Object(l.a)(r);function r(){var t;return Object(i.a)(this,r),(t=e.call(this,r.totalTime,r.timeStep,"\n/*\n* You are trying to drive a robot to a position\n* Your control system is handed two things, a target rps\n* and a current rps. Based on those, you must decide what\n* to set the motor to, which is any number between -1 and 1.\n*\n* Good luck!\n*/\n\nlet error = 0;\nlet cumulativeError = 0;\nlet changeInError = 0;\nlet previousError = 0;\n\nlet Kp = 0;\nlet Ki = 0;\nlet Kd = 0;\n\n(target, current, timeStep) => {\n    error = target - current;\n    changeInError = (error - previousError) / timeStep;\n    cumulativeError += error * timeStep;\n\n    previousError = error;\n\n    return error * Kp + changeInError * Kd + cumulativeError * Ki;\n}\n\n",r.initialTarget)).name="Exercise10",t.staticFriction=d.nm(2),t.dynamicFriction=d.nm(2),t.friction=new k(t.staticFriction,t.dynamicFriction),t.joint=new x,t.motor=new F,t.robot=new R(w.kg(5),v.mm(50)),t.resetables=[t.joint,t.motor],t.graphConfig={yLabel:"meters",xLabel:"Time (s)",tickFormater:function(t){return isNaN(t)?t:(t/1e3).toFixed(1).toString()},graphKeys:["current","target"]},t.joint.addInertia([t.robot.inertia,t.motor.inertia]),t.joint.addTorque([t.motor.torque]),t.joint.friction=t.friction,t.reset=t.reset.bind(Object(o.a)(t)),t.runStep=t.runStep.bind(Object(o.a)(t)),t.draw=t.draw.bind(Object(o.a)(t)),t}return Object(a.a)(r,[{key:"reset",value:function(){Object(s.a)(Object(u.a)(r.prototype),"reset",this).call(this);var t,e=Object(n.a)(this.resetables);try{for(e.s();!(t=e.n()).done;){t.value.reset()}}catch(i){e.e(i)}finally{e.f()}}},{key:"runStep",value:function(t){var e=this.joint.current.position.rot()*r.rotationToMm,n=this.controlSystem(this.target,e,this.timeStep.s());null===n||void 0===n?this.log("Control system didn't return anything. Make sure your function will always return a number."):"number"!==typeof n&&this.log("Control system returned something that wasn't a number. Make sure your function will always return a number."),this.motor.setPower(n),this.joint.run(this.timeStep),this.data.push({time:t.ms(),target:this.target,current:e,setPoint:n})}},{key:"draw",value:function(t){var e=t.width/2,n=t.height/2,i=300,a=150,o=t.width/10,s=this.joint.data[this.drawStep]?this.joint.data[this.drawStep].position.rot()*r.rotationToMm:0;t.background(255),t.push(),t.fill(50),t.noStroke(),t.rectMode(t.CENTER),t.rect(e,n+50,t.width,a),t.stroke(230,221,53),t.strokeWeight(3);for(var u=s%.2/.2*(2*o),c=0;c<6;c++)t.line(2*c*o-u,n+50,2*c*o+o-u,n+50);t.pop(),t.push(),t.stroke(201,34,34),t.strokeWeight(20),t.strokeCap(t.SQUARE);var l=this.target-s;t.line(e+l/.2*(2*o),n-75+50,e+l/.2*(2*o),n+75+50),t.pop(),t.push(),t.fill(0,0,176),t.noStroke(),t.rectMode(t.CENTER),t.rect(e,n,i,a),t.pop(),t.push(),t.noStroke(),[-105,0,105].forEach((function(r){t.fill(135),t.circle(e+r,n+52.5,80),t.fill(0),t.circle(e+r,n+52.5,40)})),t.pop(),t.push(),t.noFill(),t.stroke(80),t.strokeWeight(10),t.arc(e+150+75,n,50,a,t.HALF_PI,-t.HALF_PI),t.line(e+150,n,e+150+50,n),t.pop()}}]),r}(D);K.totalTime=M.a.s(3),K.timeStep=M.a.ms(5),K.initialTarget=1,K.rotationToMm=.3;var A=K,B=function(t){Object(c.a)(r,t);var e=Object(l.a)(r);function r(){var t;return Object(i.a)(this,r),(t=e.call(this,r.totalTime,r.timeStep,"\n/*\n* Your control system!\n*\n* You are trying to point an arm at a particular angle using a Neverest\n* orbital 20.\n* \n* Your control system is handed two things, a target angle in degrees\n* and a current angle in degrees. Based on those, you must decide what\n* to set the motor to, which is any number between -1 and 1.\n* \n* Some examples:\n*   Full power forwards: 1\n*   Full power backwards: -1\n*   Half power forwards: 0.5\n*   No power: 0\n*\n* Good luck!\n*/\n(target, current, timeStep) => {\n    if (current < target) {\n        return 1;\n    } else {\n        return -1;\n    }\n}\n\n",r.initialTarget.deg())).name="Exercise2",t.staticFriction=d.nm(.2),t.dynamicFriction=d.nm(.1),t.friction=new k(t.staticFriction,t.dynamicFriction),t.joint=new x,t.motor=new F,t.arm=new W(w.g(100),v.mm(300)),t.resetables=[t.joint,t.motor],t.graphConfig={yLabel:"degrees",xLabel:"Time (s)",tickFormater:function(t){return isNaN(t)?t:(t/1e3).toFixed(1).toString()},graphKeys:["current","target"]},t.joint.addInertia([t.arm.inertia,t.motor.inertia]),t.joint.addTorque([t.motor.torque]),t.joint.friction=t.friction,t.reset=t.reset.bind(Object(o.a)(t)),t.runStep=t.runStep.bind(Object(o.a)(t)),t.draw=t.draw.bind(Object(o.a)(t)),t}return Object(a.a)(r,[{key:"reset",value:function(){Object(s.a)(Object(u.a)(r.prototype),"reset",this).call(this);var t,e=Object(n.a)(this.resetables);try{for(e.s();!(t=e.n()).done;){t.value.reset()}}catch(i){e.e(i)}finally{e.f()}}},{key:"runStep",value:function(t){var e=this.joint.current.position.deg(),r=this.controlSystem(this.target,e,this.timeStep.s());null===r||void 0===r?this.log("Control system didn't return anything. Make sure your function will always return a number."):"number"!==typeof r&&this.log("Control system returned something that wasn't a number. Make sure your function will always return a number."),this.motor.setPower(r),this.joint.run(this.timeStep),this.data.push({time:t.ms(),target:this.target,current:e,setPoint:r})}},{key:"draw",value:function(t){var e=t.width/2,r=t.height/2,n=m(this.joint.data[this.drawStep].position.rad(),200),i=n.x,a=n.y;t.background(255),t.push(),t.strokeWeight(1),t.stroke(100),t.line(e,0,e,t.height),t.line(0,r,t.width,r),t.pop(),t.push(),t.textAlign("center","center"),t.textSize(36),t.fill(255,0,0),t.text("N",e,50),t.fill(0),t.text("S",e,t.height-50),t.text("W",50,r),t.text("E",t.width-50,r),t.pop(),t.push(),t.strokeWeight(5),t.stroke(0),t.line(e-2,r,e-2,r-100),t.stroke(255,0,0),t.line(e+2,r,e+2,r-100),t.pop(),t.push(),t.stroke(0),t.fill(255),t.strokeWeight(3),t.ellipse(e,r,100,100),t.pop(),t.push(),t.stroke(0),t.strokeWeight(2),t.ellipse(e-35,r,8,8),t.ellipse(e+35,r,8,8),t.ellipse(e,r-35,8,8),t.ellipse(e,r+35,8,8),t.pop(),t.push(),t.stroke(t.GRAY),t.strokeWeight(20),t.strokeCap("square"),t.line(e,r,e+i,r+a),t.pop(),t.push(),t.fill(0),t.noStroke(),t.ellipse(e,r,10,10),t.pop()}}]),r}(D);B.totalTime=M.a.s(3),B.timeStep=M.a.ms(5),B.initialTarget=T.deg(180);var q=B,U=function(t){Object(c.a)(r,t);var e=Object(l.a)(r);function r(){var t;return Object(i.a)(this,r),(t=e.call(this,r.totalTime,r.timeStep,"\n/*\n* Your control system!\n*\n* You are trying to point an arm at a particular angle using a Neverest\n* orbital 20. This time, we've added a weight on the end!\n* \n* Your control system is handed two things, a target angle in degrees\n* and a current angle in degrees. Based on those, you must decide what\n* to set the motor to, which is any number between -1 and 1.\n* \n* Some examples:\n*   Full power forwards: 1\n*   Full power backwards: -1\n*   Half power forwards: 0.5\n*   No power: 0\n*\n* Good luck!\n*/\n(target, current, timeStep) => {\n    if (current < target) {\n        return 1;\n    } else {\n        return -1;\n    }\n}\n\n",r.initialTarget.deg())).name="Exercise3",t.staticFriction=d.nm(.2),t.dynamicFriction=d.nm(.1),t.friction=new k(t.staticFriction,t.dynamicFriction),t.joint=new x,t.motor=new F,t.arm=new W(w.g(100),v.mm(300)),t.weight=new R(w.g(200),v.mm(300)),t.resetables=[t.joint,t.motor],t.graphConfig={yLabel:"degrees",xLabel:"Time (s)",tickFormater:function(t){return isNaN(t)?t:(t/1e3).toFixed(1).toString()},graphKeys:["current","target"]},t.joint.addInertia([t.arm.inertia,t.weight.inertia,t.motor.inertia]),t.joint.addTorque([t.motor.torque]),t.joint.friction=t.friction,t.reset=t.reset.bind(Object(o.a)(t)),t.runStep=t.runStep.bind(Object(o.a)(t)),t.draw=t.draw.bind(Object(o.a)(t)),t}return Object(a.a)(r,[{key:"reset",value:function(){Object(s.a)(Object(u.a)(r.prototype),"reset",this).call(this);var t,e=Object(n.a)(this.resetables);try{for(e.s();!(t=e.n()).done;){t.value.reset()}}catch(i){e.e(i)}finally{e.f()}}},{key:"runStep",value:function(t){var e=this.joint.current.position.deg(),r=this.controlSystem(this.target,e,this.timeStep.s());null===r||void 0===r?this.log("Control system didn't return anything. Make sure your function will always return a number."):"number"!==typeof r&&this.log("Control system returned something that wasn't a number. Make sure your function will always return a number."),this.motor.setPower(r),this.joint.run(this.timeStep),this.data.push({time:t.ms(),target:this.target,current:e,setPoint:r})}},{key:"draw",value:function(t){var e=t.width/2,r=t.height/2,n=this.joint.data[this.drawStep].position.rad(),i=m(n,200),a=m(n,180);t.background(255),t.push(),t.strokeWeight(1),t.stroke(100),t.line(e,0,e,t.height),t.line(0,r,t.width,r),t.pop(),t.push(),t.textAlign("center","center"),t.textSize(36),t.fill(255,0,0),t.text("N",e,50),t.fill(0),t.text("S",e,t.height-50),t.text("W",50,r),t.text("E",t.width-50,r),t.push(),t.strokeWeight(5),t.stroke(0),t.line(e-2,r,e-2,r-100),t.stroke(255,0,0),t.line(e+2,r,e+2,r-100),t.pop(),t.push(),t.stroke(0),t.fill(255),t.strokeWeight(3),t.ellipse(e,r,100,100),t.pop(),t.push(),t.stroke(0),t.strokeWeight(2),t.ellipse(e-35,r,8,8),t.ellipse(e+35,r,8,8),t.ellipse(e,r-35,8,8),t.ellipse(e,r+35,8,8),t.pop(),t.push(),t.stroke(t.GRAY),t.strokeWeight(20),t.strokeCap("square"),t.line(e,r,e+i.x,r+i.y),t.pop(),t.push(),t.stroke(50),t.strokeWeight(50),t.strokeCap("square"),t.line(e+a.x,r+a.y,e+i.x,r+i.y),t.pop(),t.push(),t.fill(0),t.noStroke(),t.ellipse(e,r,10,10),t.pop()}}]),r}(D);U.totalTime=M.a.s(3),U.timeStep=M.a.ms(5),U.initialTarget=T.deg(180);var N=U,Y=function(t){Object(c.a)(r,t);var e=Object(l.a)(r);function r(){var t;return Object(i.a)(this,r),(t=e.call(this,r.totalTime,r.timeStep,"\n/*\n* Your control system!\n*\n* You are trying to point an arm at a particular angle using a Neverest\n* orbital 20. This time, gravity exists, and it isn't helping!\n* \n* Your control system is handed two things, a target angle in degrees\n* and a current angle in degrees. Based on those, you must decide what\n* to set the motor to, which is any number between -1 and 1.\n* \n* Some examples:\n*   Full power forwards: 1\n*   Full power backwards: -1\n*   Half power forwards: 0.5\n*   No power: 0\n*\n* Good luck!\n*/\n(target, current, timeStep) => {\n    if (current < target) {\n        return 1;\n    } else {\n        return -1;\n    }\n}\n\n",r.initialTarget.deg())).name="Exercise4",t.staticFriction=d.nm(.2),t.dynamicFriction=d.nm(.1),t.friction=new k(t.staticFriction,t.dynamicFriction),t.joint=new x,t.motor=new F,t.arm=new W(w.g(300),v.mm(300)),t.resetables=[t.joint,t.motor],t.graphConfig={yLabel:"degrees",xLabel:"Time (s)",tickFormater:function(t){return isNaN(t)?t:(t/1e3).toFixed(1).toString()},graphKeys:["current","target"]},t.gravity=t.gravity.bind(Object(o.a)(t)),t.reset=t.reset.bind(Object(o.a)(t)),t.runStep=t.runStep.bind(Object(o.a)(t)),t.draw=t.draw.bind(Object(o.a)(t)),t.joint.addInertia([t.arm.inertia,t.motor.inertia]),t.joint.addTorque([t.motor.torque,t.gravity]),t.joint.friction=t.friction,t}return Object(a.a)(r,[{key:"gravity",value:function(t){var e=9.81*this.arm.mass.kg(),r=.5*this.arm.length.m()*Math.cos(t.position.rad());return d.nm(e*r)}},{key:"reset",value:function(){Object(s.a)(Object(u.a)(r.prototype),"reset",this).call(this);var t,e=Object(n.a)(this.resetables);try{for(e.s();!(t=e.n()).done;){t.value.reset()}}catch(i){e.e(i)}finally{e.f()}}},{key:"runStep",value:function(t){var e=this.joint.current.position.deg(),r=this.controlSystem(this.target,e,this.timeStep.s());null===r||void 0===r?this.log("Control system didn't return anything. Make sure your function will always return a number."):"number"!==typeof r&&this.log("Control system returned something that wasn't a number. Make sure your function will always return a number."),this.motor.setPower(r),this.joint.run(this.timeStep),this.data.push({time:t.ms(),target:this.target,current:e,setPoint:r})}},{key:"draw",value:function(t){var e=t.width/2,r=t.height/2,n=m(this.joint.data[this.drawStep].position.rad(),200),i=n.x,a=n.y;t.background(255),t.push(),t.strokeWeight(1),t.stroke(100),t.line(e,0,e,t.height),t.line(0,r,t.width,r),t.pop(),t.push(),t.strokeWeight(5),t.stroke(0),t.line(e-2,r,e-2,r-100),t.stroke(255,0,0),t.line(e+2,r,e+2,r-100),t.pop(),t.push(),t.stroke(0),t.fill(255),t.strokeWeight(3),t.ellipse(e,r,100,100),t.pop(),t.push(),t.stroke(0),t.strokeWeight(2),t.ellipse(e-35,r,8,8),t.ellipse(e+35,r,8,8),t.ellipse(e,r-35,8,8),t.ellipse(e,r+35,8,8),t.pop(),t.push(),t.stroke(t.GRAY),t.strokeWeight(20),t.strokeCap("square"),t.line(e,r,e+i,r+a),t.pop(),t.push(),t.fill(0),t.noStroke(),t.ellipse(e,r,10,10),t.pop()}}]),r}(D);Y.totalTime=M.a.s(3),Y.timeStep=M.a.ms(5),Y.initialTarget=T.deg(180);var V=Y,G=function(t){Object(c.a)(r,t);var e=Object(l.a)(r);function r(){var t;return Object(i.a)(this,r),(t=e.call(this,r.totalTime,r.timeStep,"\n/*\n* Your control system!\n*\n* You are trying to point an arm at a particular angle using a Neverest\n* orbital 20. This time, gravity exists, and it isn't helping!\n* \n* Your control system is handed two things, a target angle in degrees\n* and a current angle in degrees. Based on those, you must decide what\n* to set the motor to, which is any number between -1 and 1.\n* \n* Some examples:\n*   Full power forwards: 1\n*   Full power backwards: -1\n*   Half power forwards: 0.5\n*   No power: 0\n*\n* Good luck!\n*/\n(target, current, timeStep) => {\n    if (current < target) {\n        return 1;\n    } else {\n        return -1;\n    }\n}\n\n",r.initialTarget.deg())).name="Exercise5",t.staticFriction=d.nm(.2),t.dynamicFriction=d.nm(.1),t.friction=new k(t.staticFriction,t.dynamicFriction),t.joint=new x,t.motor=new F,t.arm=new W(w.g(100),v.mm(300)),t.weight=new R(w.g(200),v.mm(300)),t.resetables=[t.joint,t.motor],t.graphConfig={yLabel:"degrees",xLabel:"Time (s)",tickFormater:function(t){return isNaN(t)?t:(t/1e3).toFixed(1).toString()},graphKeys:["current","target"]},t.gravity=t.gravity.bind(Object(o.a)(t)),t.reset=t.reset.bind(Object(o.a)(t)),t.runStep=t.runStep.bind(Object(o.a)(t)),t.draw=t.draw.bind(Object(o.a)(t)),t.joint.addInertia([t.arm.inertia,t.motor.inertia]),t.joint.addTorque([t.motor.torque,t.gravity]),t.joint.friction=t.friction,t}return Object(a.a)(r,[{key:"gravity",value:function(t){var e=9.81*this.arm.mass.kg()*(.5*this.arm.length.m()*Math.cos(t.position.rad()))+9.81*this.weight.mass.kg()*(this.weight.length.m()*Math.cos(t.position.rad()));return d.nm(e)}},{key:"reset",value:function(){Object(s.a)(Object(u.a)(r.prototype),"reset",this).call(this);var t,e=Object(n.a)(this.resetables);try{for(e.s();!(t=e.n()).done;){t.value.reset()}}catch(i){e.e(i)}finally{e.f()}}},{key:"runStep",value:function(t){var e=this.joint.current.position.deg(),r=this.controlSystem(this.target,e,this.timeStep.s());null===r||void 0===r?this.log("Control system didn't return anything. Make sure your function will always return a number."):"number"!==typeof r&&this.log("Control system returned something that wasn't a number. Make sure your function will always return a number."),this.motor.setPower(r),this.joint.run(this.timeStep),this.data.push({time:t.ms(),target:this.target,current:e,setPoint:r})}},{key:"draw",value:function(t){var e=t.width/2,r=t.height/2,n=this.joint.data[this.drawStep].position.rad(),i=m(n,200),a=m(n,180);t.background(255),t.push(),t.strokeWeight(1),t.stroke(100),t.line(e,0,e,t.height),t.line(0,r,t.width,r),t.pop(),t.push(),t.strokeWeight(5),t.stroke(0),t.line(e-2,r,e-2,r-100),t.stroke(255,0,0),t.line(e+2,r,e+2,r-100),t.pop(),t.push(),t.stroke(0),t.fill(255),t.strokeWeight(3),t.ellipse(e,r,100,100),t.pop(),t.push(),t.stroke(0),t.strokeWeight(2),t.ellipse(e-35,r,8,8),t.ellipse(e+35,r,8,8),t.ellipse(e,r-35,8,8),t.ellipse(e,r+35,8,8),t.pop(),t.push(),t.stroke(t.GRAY),t.strokeWeight(20),t.strokeCap("square"),t.line(e,r,e+i.x,r+i.y),t.pop(),t.push(),t.stroke(50),t.strokeWeight(50),t.strokeCap("square"),t.line(e+a.x,r+a.y,e+i.x,r+i.y),t.pop(),t.push(),t.fill(0),t.noStroke(),t.ellipse(e,r,10,10),t.pop()}}]),r}(D);G.totalTime=M.a.s(3),G.timeStep=M.a.ms(5),G.initialTarget=T.deg(180);var H=G,z=function(t){Object(c.a)(r,t);var e=Object(l.a)(r);function r(){var t;return Object(i.a)(this,r),(t=e.call(this,r.totalTime,r.timeStep,"\n/*\n* Your control system!\n*\n* You are trying to point an arm at a particular angle using a Neverest\n* orbital 20. This time, we've added a weight on the end! Additionally,\n* we have added super special bearings that reduce friction!\n* \n* Your control system is handed two things, a target angle in degrees\n* and a current angle in degrees. Based on those, you must decide what\n* to set the motor to, which is any number between -1 and 1.\n* \n* Some examples:\n*   Full power forwards: 1\n*   Full power backwards: -1\n*   Half power forwards: 0.5\n*   No power: 0\n*\n* Good luck!\n*/\n\nlet Kp = 0.003;\n\n(target, current, timeStep) => {\n    let error = target - current;\n\n    return error * Kp;\n}\n\n",r.initialTarget.deg())).name="Exercise6",t.staticFriction=d.nm(.02),t.dynamicFriction=d.nm(.01),t.friction=new k(t.staticFriction,t.dynamicFriction),t.joint=new x,t.motor=new F,t.arm=new W(w.g(100),v.mm(300)),t.weight=new R(w.g(200),v.mm(300)),t.resetables=[t.joint,t.motor],t.graphConfig={yLabel:"degrees",xLabel:"Time (s)",tickFormater:function(t){return isNaN(t)?t:(t/1e3).toFixed(1).toString()},graphKeys:["current","target"]},t.joint.addInertia([t.arm.inertia,t.weight.inertia,t.motor.inertia]),t.joint.addTorque([t.motor.torque]),t.joint.friction=t.friction,t.reset=t.reset.bind(Object(o.a)(t)),t.runStep=t.runStep.bind(Object(o.a)(t)),t.draw=t.draw.bind(Object(o.a)(t)),t}return Object(a.a)(r,[{key:"reset",value:function(){Object(s.a)(Object(u.a)(r.prototype),"reset",this).call(this);var t,e=Object(n.a)(this.resetables);try{for(e.s();!(t=e.n()).done;){t.value.reset()}}catch(i){e.e(i)}finally{e.f()}}},{key:"runStep",value:function(t){var e=this.joint.current.position.deg(),r=this.controlSystem(this.target,e,this.timeStep.s());null===r||void 0===r?this.log("Control system didn't return anything. Make sure your function will always return a number."):"number"!==typeof r&&this.log("Control system returned something that wasn't a number. Make sure your function will always return a number."),this.motor.setPower(r),this.joint.run(this.timeStep),this.data.push({time:t.ms(),target:this.target,current:e,setPoint:r})}},{key:"draw",value:function(t){var e=t.width/2,r=t.height/2,n=this.joint.data[this.drawStep].position.rad(),i=m(n,200),a=m(n,180);t.background(255),t.push(),t.strokeWeight(1),t.stroke(100),t.line(e,0,e,t.height),t.line(0,r,t.width,r),t.pop(),t.push(),t.textAlign("center","center"),t.textSize(36),t.fill(255,0,0),t.text("N",e,50),t.fill(0),t.text("S",e,t.height-50),t.text("W",50,r),t.text("E",t.width-50,r),t.push(),t.strokeWeight(5),t.stroke(0),t.line(e-2,r,e-2,r-100),t.stroke(255,0,0),t.line(e+2,r,e+2,r-100),t.pop(),t.push(),t.stroke(0),t.fill(255),t.strokeWeight(3),t.ellipse(e,r,100,100),t.pop(),t.push(),t.stroke(0),t.strokeWeight(2),t.ellipse(e-35,r,8,8),t.ellipse(e+35,r,8,8),t.ellipse(e,r-35,8,8),t.ellipse(e,r+35,8,8),t.pop(),t.push(),t.stroke(t.GRAY),t.strokeWeight(20),t.strokeCap("square"),t.line(e,r,e+i.x,r+i.y),t.pop(),t.push(),t.stroke(50),t.strokeWeight(50),t.strokeCap("square"),t.line(e+a.x,r+a.y,e+i.x,r+i.y),t.pop(),t.push(),t.fill(0),t.noStroke(),t.ellipse(e,r,10,10),t.pop()}}]),r}(D);z.totalTime=M.a.s(3),z.timeStep=M.a.ms(5),z.initialTarget=T.deg(180);var J=z,$=function(t){Object(c.a)(r,t);var e=Object(l.a)(r);function r(){var t;return Object(i.a)(this,r),(t=e.call(this,r.totalTime,r.timeStep,"\n/*\n* Your control system!\n*\n* You are controlling an elevator, and need to up to the top floor.\n* This elevator is empty, so the counterweight removes all affects \n* of gravity.\n* \n* Your control system is handed a target floor and a current floor, \n* where the ground floor is 0, first floor is 1, etc. If the elevator\n* is between floors, you get a floating point number, e.g. 0.5.\n* Based on those, you must decide what to set the motor to, which is \n* any number between -1 and 1.\n*\n* Good luck!\n*/\n\nlet Kp = 0;\nlet Kd = 0;\nlet previous = 0;\n\n(target, current, timeStep) => {\n    let error = target - current;\n    let changeInError = (current - previous) / timeStep;\n    previous = current;\n\n    return error * Kp + changeInError * Kd;\n}\n\n",r.initialTarget)).name="Exercise7",t.staticFriction=d.nm(.02),t.dynamicFriction=d.nm(.01),t.friction=new k(t.staticFriction,t.dynamicFriction),t.joint=new x,t.motor=new F,t.car=new R(w.kg(1),v.mm(300)),t.resetables=[t.joint,t.motor],t.graphConfig={yLabel:"floor",xLabel:"Time (s)",tickFormater:function(t){return isNaN(t)?t:(t/1e3).toFixed(1).toString()},graphKeys:["current","target"]},t.joint.addInertia([t.car.inertia,t.motor.inertia]),t.joint.addTorque([t.motor.torque]),t.joint.friction=t.friction,t.reset=t.reset.bind(Object(o.a)(t)),t.runStep=t.runStep.bind(Object(o.a)(t)),t.draw=t.draw.bind(Object(o.a)(t)),t}return Object(a.a)(r,[{key:"reset",value:function(){Object(s.a)(Object(u.a)(r.prototype),"reset",this).call(this);var t,e=Object(n.a)(this.resetables);try{for(e.s();!(t=e.n()).done;){t.value.reset()}}catch(i){e.e(i)}finally{e.f()}}},{key:"runStep",value:function(t){var e=this.joint.current.position.deg()/1800,r=this.controlSystem(this.target,e,this.timeStep.s());null===r||void 0===r?this.log("Control system didn't return anything. Make sure your function will always return a number."):"number"!==typeof r&&this.log("Control system returned something that wasn't a number. Make sure your function will always return a number."),this.motor.setPower(r),this.joint.run(this.timeStep),this.data.push({time:t.ms(),target:this.target,current:e,setPoint:r})}},{key:"draw",value:function(t){var e=t.width/2,r=this.joint.data[this.drawStep].position.deg()/1800,n=t.height/5,i=n,a=.75*n;t.background(255),t.push(),t.noStroke(),t.fill(207,91,85),t.rect(0,n,e,t.height),t.pop(),t.push(),t.noStroke(),t.fill(100,100,100),t.rect(e,0,2*a,t.height),t.pop(),t.push(),t.noStroke(),t.fill(0),t.ellipse(e+a,n/2,a,a),t.pop(),t.push(),t.stroke(0),t.strokeWeight(2),t.fill(171,164,87),t.rect(e,t.height-i-r*i,a,i),t.pop(),t.push(),t.fill(0),t.rect(e+a+10,i*(r+1),a-20,i),t.pop(),t.push(),t.stroke(0),t.strokeWeight(2),t.line(e+a/2,i/2,e+a/2,t.height-i*(r+1)),t.line(e+1.5*a,i/2,e+1.5*a,i*(r+1)),t.pop();for(var o=0;o<4;o++){t.push(),t.stroke(0),t.strokeWeight(5);var s=t.height-o*n;t.line(0,s,e,s),t.pop()}}}]),r}(D);$.totalTime=M.a.s(9),$.timeStep=M.a.ms(5),$.initialTarget=3;var Q=$,X=function(t){Object(c.a)(r,t);var e=Object(l.a)(r);function r(){var t;return Object(i.a)(this,r),(t=e.call(this,r.totalTime,r.timeStep,"\n/*\n* Your control system!\n*\n* You are controlling an elevator, and need to up to the top floor.\n* This elevator is no longer empty, and you must contend with gravity!\n* \n* Your control system is handed a target floor and a current floor, \n* where the ground floor is 0, first floor is 1, etc. If the elevator\n* is between floors, you get a floating point number e.g. 0.5.\n* Based on those, you must decide what to set the motor to, which is \n* any number between -1 and 1.\n*\n* Good luck!\n*/\n\nlet Kp = 0;\nlet Kd = 0;\nlet previous = 0;\n\n(target, current, timeStep) => {\n    let error = target - current;\n    let changeInError = (current - previous) / timeStep;\n    previous = current;\n\n    return error * Kp + changeInError * Kd;\n}\n\n",r.initialTarget)).name="Exercise8",t.initialState={position:T.deg(3600),velocity:f.radS(0),acceleration:C.radS2(0),torque:d.nm(0)},t.staticFriction=d.nm(.02),t.dynamicFriction=d.nm(.01),t.friction=new k(t.staticFriction,t.dynamicFriction),t.joint=new x(t.initialState),t.motor=new F,t.car=new R(w.kg(1),v.mm(300)),t.resetables=[t.joint,t.motor],t.graphConfig={yLabel:"floor",xLabel:"Time (s)",tickFormater:function(t){return isNaN(t)?t:(t/1e3).toFixed(1).toString()},graphKeys:["current","target"]},t.reset=t.reset.bind(Object(o.a)(t)),t.runStep=t.runStep.bind(Object(o.a)(t)),t.draw=t.draw.bind(Object(o.a)(t)),t.gravity=t.gravity.bind(Object(o.a)(t)),t.joint.addInertia([t.car.inertia,t.motor.inertia]),t.joint.addTorque([t.motor.torque,t.gravity]),t.joint.friction=t.friction,t}return Object(a.a)(r,[{key:"reset",value:function(){Object(s.a)(Object(u.a)(r.prototype),"reset",this).call(this);var t,e=Object(n.a)(this.resetables);try{for(e.s();!(t=e.n()).done;){t.value.reset()}}catch(i){e.e(i)}finally{e.f()}}},{key:"gravity",value:function(t){return t.position.deg()>0?d.nm(-1):d.nm(0)}},{key:"runStep",value:function(t){var e=this.joint.current.position.deg()/1800,r=this.controlSystem(this.target,e,this.timeStep.s());null===r||void 0===r?this.log("Control system didn't return anything. Make sure your function will always return a number."):"number"!==typeof r&&this.log("Control system returned something that wasn't a number. Make sure your function will always return a number."),this.motor.setPower(r),this.joint.run(this.timeStep),this.data.push({time:t.ms(),target:this.target,current:e,setPoint:r})}},{key:"draw",value:function(t){var e=t.width/2,r=this.joint.data[this.drawStep].position.deg()/1800,n=t.height/5,i=n,a=.75*n;t.background(255),t.push(),t.noStroke(),t.fill(207,91,85),t.rect(0,n,e,t.height),t.pop(),t.push(),t.noStroke(),t.fill(100,100,100),t.rect(e,0,2*a,t.height),t.pop(),t.push(),t.noStroke(),t.fill(0),t.ellipse(e+a,n/2,a,a),t.pop(),t.push(),t.stroke(0),t.strokeWeight(2),t.fill(171,164,87),t.rect(e,t.height-i-r*i,a,i),t.pop(),t.push(),t.fill(0),t.rect(e+a+10,i*(r+1),a-20,i),t.pop(),t.push(),t.stroke(0),t.strokeWeight(2),t.line(e+a/2,i/2,e+a/2,t.height-i*(r+1)),t.line(e+1.5*a,i/2,e+1.5*a,i*(r+1)),t.pop(),t.push(),t.noStroke(),t.fill(100,70,30),t.rect(e+a/4,t.height-i/2-r*i,a/2,i/2),t.pop();for(var o=0;o<4;o++){t.push(),t.stroke(0),t.strokeWeight(5);var s=t.height-o*n;t.line(0,s,e,s),t.pop()}}}]),r}(D);X.totalTime=M.a.s(9),X.timeStep=M.a.ms(5),X.initialTarget=0;var Z=X,tt=function(t){Object(c.a)(r,t);var e=Object(l.a)(r);function r(){var t;return Object(i.a)(this,r),(t=e.call(this,r.totalTime,r.timeStep,"\n/*\n* Your control system!\n*\n* You are trying to control a 775 pro to spin a\n* steel flywheel at 10 revolutions per second (rps).\n* \n* Your control system is handed two things, a target rps\n* and a current rps. Based on those, you must decide what\n* to set the motor to, which is any number between -1 and 1.\n* \n* Some examples:\n*   Full power forwards: 1\n*   Full power backwards: -1\n*   Half power forwards: 0.5\n*   No power: 0\n*\n* Good luck!\n*/\n\nlet Kp = 0;\n\n(target, current, timeStep) => {\n    let error = target - current;\n\n    return error * Kp;\n}\n\n",r.initialTarget.rps())).name="Exercise9",t.staticFriction=d.nm(.2),t.dynamicFriction=d.nm(.1),t.friction=new k(t.staticFriction,t.dynamicFriction),t.joint=new x,t.motor=new O,t.wheel=new P,t.resetables=[t.joint,t.motor],t.graphConfig={yLabel:"rps",xLabel:"Time (s)",tickFormater:function(t){return isNaN(t)?t:(t/1e3).toFixed(1).toString()},graphKeys:["current","target"]},t.joint.addInertia([t.wheel.inertia,t.motor.inertia]),t.joint.addTorque([t.motor.torque]),t.joint.friction=t.friction,t.reset=t.reset.bind(Object(o.a)(t)),t.runStep=t.runStep.bind(Object(o.a)(t)),t.draw=t.draw.bind(Object(o.a)(t)),t}return Object(a.a)(r,[{key:"reset",value:function(){Object(s.a)(Object(u.a)(r.prototype),"reset",this).call(this);var t,e=Object(n.a)(this.resetables);try{for(e.s();!(t=e.n()).done;){t.value.reset()}}catch(i){e.e(i)}finally{e.f()}}},{key:"runStep",value:function(t){var e=this.joint.current.velocity.rps(),r=this.controlSystem(this.target,e,this.timeStep.s());null===r||void 0===r?this.log("Control system didn't return anything. Make sure your function will always return a number."):"number"!==typeof r&&this.log("Control system returned something that wasn't a number. Make sure your function will always return a number."),this.motor.setPower(r),this.joint.run(this.timeStep),this.data.push({time:t.ms(),target:this.target,current:e,setPoint:r})}},{key:"draw",value:function(t){var e=t.width/2,r=t.height/2,n=m(this.joint.data[this.drawStep]?this.joint.data[this.drawStep].position.rad():0,75),i=n.x,a=n.y;t.background(255),t.fill(66,135,245),t.noStroke(),t.ellipse(e,r,200,200),t.fill(66,245,111),t.noStroke(),t.ellipse(e+i,r+a,20,20)}}]),r}(D);tt.totalTime=M.a.s(5),tt.timeStep=M.a.ms(5),tt.initialTarget=f.rps(10);var et=tt;e.a=function(t){switch(t){default:return new L;case"2":return new q;case"3":return new N;case"4":return new V;case"5":return new H;case"6":return new J;case"7":return new Q;case"8":return new Z;case"9":return new et;case"10":return new A}}},206:function(t,e,r){},207:function(t,e,r){},217:function(t,e,r){},30:function(t,e,r){"use strict";var n=r(3),i=r(6),a=function(){function t(e){Object(n.a)(this,t),this.value=void 0,this.value=e}return Object(i.a)(t,[{key:"equals",value:function(t){return this.value===t.value}},{key:"isPositive",value:function(){return this.value>=0}},{key:"isNegative",value:function(){return!this.isPositive()}},{key:"negate",value:function(){var t=Object.create(this);return t.value=-this.value,t}}]),t}();e.a=a},355:function(t,e,r){},357:function(t,e,r){"use strict";r.r(e);var n=r(0),i=r.n(n),a=r(76),o=r.n(a),s=(r(206),r(171)),u=function(t){t&&t instanceof Function&&r.e(3).then(r.bind(null,367)).then((function(e){var r=e.getCLS,n=e.getFID,i=e.getFCP,a=e.getLCP,o=e.getTTFB;r(t),n(t),i(t),a(t),o(t)}))},c=(r(356),r(2));o.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(s.a,{})}),document.getElementById("root")),u()}},[[357,1,2]]]);
//# sourceMappingURL=main.213f4387.chunk.js.map