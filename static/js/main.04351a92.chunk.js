(this["webpackJsonpcontrol-systems-trainer"]=this["webpackJsonpcontrol-systems-trainer"]||[]).push([[0],{161:function(module,__webpack_exports__,__webpack_require__){"use strict";var C_src_frc_control_systems_trainer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9),C_src_frc_control_systems_trainer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(11),C_src_frc_control_systems_trainer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(17),C_src_frc_control_systems_trainer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(18),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__),react_bootstrap_Container__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(89),react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(53),react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(61),_App_css__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(194),_App_css__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_App_css__WEBPACK_IMPORTED_MODULE_8__),_Editor_Editor__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(164),_Graph_Graph__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(166),_Sim_Sim__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(181),_Exercises_Exercise1__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(182),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(8),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__),App=function(_React$Component){Object(C_src_frc_control_systems_trainer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__.a)(App,_React$Component);var _super=Object(C_src_frc_control_systems_trainer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__.a)(App);function App(t){var e;return Object(C_src_frc_control_systems_trainer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,App),(e=_super.call(this,t)).sim=void 0,e.exercise=void 0,e.state={graphData:[]},e.sim=new _Sim_Sim__WEBPACK_IMPORTED_MODULE_11__.a((function(t){return e.setState({graphData:t})})),e.exercise=new _Exercises_Exercise1__WEBPACK_IMPORTED_MODULE_12__.a,e}return Object(C_src_frc_control_systems_trainer_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(App,[{key:"run",value:function run(code){eval(code),this.exercise.controlSystem=window.runControlSystem,this.exercise.reset(),this.sim.setup(this.exercise),this.sim.run()}},{key:"render",value:function(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(react_bootstrap_Container__WEBPACK_IMPORTED_MODULE_5__.a,{fluid:!0,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_6__.a,{className:"app",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_7__.a,{xs:6,className:"section editor",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_Editor_Editor__WEBPACK_IMPORTED_MODULE_9__.a,{initialValue:this.exercise.starterCode,onRun:this.run.bind(this)})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(react_bootstrap_Col__WEBPACK_IMPORTED_MODULE_7__.a,{xs:6,className:"section",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_6__.a,{className:"preview"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(react_bootstrap_Row__WEBPACK_IMPORTED_MODULE_6__.a,{className:"graph",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_Graph_Graph__WEBPACK_IMPORTED_MODULE_10__.a,{data:this.state.graphData,config:this.exercise.graphConfig})})]})]})})}}]),App}(react__WEBPACK_IMPORTED_MODULE_4___default.a.Component);__webpack_exports__.a=App},164:function(t,e,r){"use strict";var n=r(9),a=r(11),i=r(17),_=r(18),s=r(0),o=r.n(s),u=r(165),c=r.n(u),l=(r(202),r(203),r(89)),h=r(53),d=r(61),p=r(120),b=(r(204),r(8)),v=function(t){Object(i.a)(r,t);var e=Object(_.a)(r);function r(t){var a;return Object(n.a)(this,r),(a=e.call(this,t)).editor=void 0,a.editor=null,a}return Object(a.a)(r,[{key:"setup",value:function(t){this.editor=t,this.reset()}},{key:"reset",value:function(){this.editor&&this.editor.setValue(this.props.initialValue,-1)}},{key:"run",value:function(){this.props.onRun(this.editor?this.editor.getValue():"")}},{key:"render",value:function(){return Object(b.jsxs)(l.a,{className:"editorContainer",children:[Object(b.jsxs)(h.a,{className:"justify-content-between",children:[Object(b.jsx)(d.a,{xs:"auto",children:Object(b.jsx)(p.a,{variant:"primary",onClick:this.reset.bind(this),children:"Reset"})}),Object(b.jsx)(d.a,{xs:"auto",children:Object(b.jsx)(p.a,{variant:"success",onClick:this.run.bind(this),children:"Run"})})]}),Object(b.jsx)(h.a,{className:"editorRow",children:Object(b.jsx)(c.a,{mode:"javascript",theme:"github",name:"editor",editorProps:{$blockScrolling:!0},height:"100%",width:"100%",onLoad:this.setup.bind(this)})})]})}}]),r}(o.a.Component);e.a=v},166:function(t,e,r){"use strict";var n=r(343),a=r(344),i=r(116),_=r(28),s=r(117),o=r(345),u=r(119),c=r(65),l=r(8),h=["#f95d6a","#003f5c","#2f4b7c","#665191","#a05195","#d45087","#ff7c43","#ffa600"];e.a=function(t){return Object(l.jsx)("div",{children:Object(l.jsx)(n.a,{width:"100%",height:"100%",children:Object(l.jsxs)(a.a,{data:t.data,margin:{top:15,right:15,left:30,bottom:30},children:[Object(l.jsx)(i.a,{dataKey:"time",tickFormatter:t.config.tickFormater,children:t.config.xLabel?Object(l.jsx)(_.a,{position:"insideBottomLeft",offset:-10,children:t.config.xLabel}):""}),Object(l.jsx)(s.a,{children:t.config.yLabel?Object(l.jsx)(_.a,{position:"left",angle:-90,children:t.config.yLabel}):""}),Object(l.jsx)(o.a,{strokeDasharray:"3 3"}),t.config.graphKeys?t.config.graphKeys.map((function(t,e){return Object(l.jsx)(u.a,{dataKey:t,stroke:h[e],dot:!1})})):Object(l.jsx)("div",{}),Object(l.jsx)(c.a,{})]})})})}},181:function(t,e,r){"use strict";var n=r(9),a=r(11),i=function(){function t(e){Object(n.a)(this,t),this.exercise=void 0,this.updateGraphData=void 0,this.updateGraphData=e}return Object(a.a)(t,[{key:"setup",value:function(t){this.exercise=t}},{key:"run",value:function(){this.exercise&&(this.exercise.reset(),this.exercise.run(),this.updateGraphData(this.exercise.data))}}]),t}();e.a=i},182:function(t,e,r){"use strict";var n=r(23),a=r(9),i=r(11),_=r(184),s=r(49),o=r(17),u=r(18),c=function(){function t(e){Object(a.a)(this,t),this.value=void 0,this.value=e}return Object(i.a)(t,[{key:"equals",value:function(t){return this.value===t.value}},{key:"isPositive",value:function(){return this.value>=0}},{key:"isNegative",value:function(){return!this.isPositive()}},{key:"negate",value:function(){var t=Object.create(this);return t.value=-this.value,t}}]),t}(),l=function(t){Object(o.a)(r,t);var e=Object(u.a)(r);function r(t){return Object(a.a)(this,r),e.call(this,t)}return Object(i.a)(r,[{key:"nm",value:function(){return this.value}},{key:"oz_in",value:function(){return this.value/r.ozIn_to_nm}},{key:"lb_ft",value:function(){return this.value/r.lbFt_to_nm}}],[{key:"nm",value:function(t){return new r(t)}},{key:"oz_in",value:function(t){return new r(t*r.ozIn_to_nm)}},{key:"lb_ft",value:function(t){return new r(t*r.lbFt_to_nm)}}]),r}(c);l.ozIn_to_nm=.007062,l.lbFt_to_nm=1.35584;var h=l,d=function(t){Object(o.a)(r,t);var e=Object(u.a)(r);function r(t){return Object(a.a)(this,r),e.call(this,t)}return Object(i.a)(r,[{key:"v",value:function(){return this.value}}],[{key:"v",value:function(t){return new r(t)}}]),r}(c),p=function(){function t(e,r,n,i,_,s,o,u,c){Object(a.a)(this,t),this.operatingVoltage=void 0,this.stallTorque=void 0,this.stallCurrent=void 0,this.breakawayTorque=void 0,this.noLoadSpeed=void 0,this.noLoadCurrent=void 0,this.rotorRadius=void 0,this.rotorMass=void 0,this.gearRatio=void 0,this.torqueConstant=void 0,this.suppliedVoltage=void 0,this.operatingVoltage=e,this.stallTorque=r,this.stallCurrent=n,this.breakawayTorque=i,this.noLoadSpeed=_,this.noLoadCurrent=s,this.rotorRadius=o,this.rotorMass=u,this.gearRatio=c,this.torqueConstant=this.stallTorque.nm()/this.noLoadSpeed.rps(),this.suppliedVoltage=d.v(0)}return Object(i.a)(t,[{key:"reset",value:function(){this.suppliedVoltage=d.v(0)}},{key:"setPower",value:function(t){this.suppliedVoltage=d.v(this.operatingVoltage.v()*t)}},{key:"inertia",value:function(){return.5*this.rotorMass.kg()*Math.pow(this.rotorRadius.m(),2)*Math.pow(this.gearRatio,2)}},{key:"torque",value:function(t){var e=this.suppliedVoltage.v()/this.operatingVoltage.v(),r=this.stallTorque.nm()-t.velocity.rps()*this.torqueConstant;return h.nm(r*e)}}]),t}(),b=function(t){Object(o.a)(r,t);var e=Object(u.a)(r);function r(t){return Object(a.a)(this,r),e.call(this,t)}return Object(i.a)(r,[{key:"radS",value:function(){return this.value}},{key:"rps",value:function(){return this.value/r.rps_to_radS}},{key:"rpm",value:function(){return this.value/r.rpm_to_radS}}],[{key:"radS",value:function(t){return new r(t)}},{key:"rps",value:function(t){return new r(t*r.rps_to_radS)}},{key:"rpm",value:function(t){return new r(t*r.rpm_to_radS)}}]),r}(c);b.rps_to_radS=2*Math.PI,b.rpm_to_radS=2*Math.PI/60;var v=b,O=function(t){Object(o.a)(r,t);var e=Object(u.a)(r);function r(t){return Object(a.a)(this,r),e.call(this,t)}return Object(i.a)(r,[{key:"a",value:function(){return this.value}}],[{key:"a",value:function(t){return new r(t)}}]),r}(c),m=function(t){Object(o.a)(r,t);var e=Object(u.a)(r);function r(t){return Object(a.a)(this,r),e.call(this,t)}return Object(i.a)(r,[{key:"m",value:function(){return this.value}},{key:"mm",value:function(){return 1e3*this.value}}],[{key:"m",value:function(t){return new r(t)}},{key:"mm",value:function(t){return new r(t/1e3)}}]),r}(c),f=function(t){Object(o.a)(r,t);var e=Object(u.a)(r);function r(t){return Object(a.a)(this,r),e.call(this,t)}return Object(i.a)(r,[{key:"kg",value:function(){return this.value}},{key:"g",value:function(){return 1e3*this.value}},{key:"lbs",value:function(){return this.value/r.lbs_to_kg}}],[{key:"kg",value:function(t){return new r(t)}},{key:"g",value:function(t){return new r(t/1e3)}},{key:"lbs",value:function(t){return new r(t*r.lbs_to_kg)}}]),r}(c);f.lbs_to_kg=.4536;var j=f,E=function(t){Object(o.a)(r,t);var e=Object(u.a)(r);function r(){return Object(a.a)(this,r),e.call(this,r.operatingVoltage,r.stallTorque,r.stallCurrent,r.breakawayTorque,r.noLoadSpeed,r.noLoadCurrent,r.rotorRadius,r.rotorMass,r.gearRatio)}return r}(p);E.operatingVoltage=d.v(12),E.stallTorque=h.nm(.71),E.stallCurrent=O.a(134),E.breakawayTorque=h.nm(.05),E.noLoadSpeed=v.rpm(18700),E.noLoadCurrent=O.a(.7),E.rotorRadius=m.mm(12.5),E.rotorMass=j.lbs(.5),E.gearRatio=1;var y=function(){function t(e,r){Object(a.a)(this,t),this.staticFriction=void 0,this.dynamicFriction=void 0,this.staticFriction=e,this.dynamicFriction=r}return Object(i.a)(t,[{key:"torque",value:function(t){return 0===t.velocity.radS()&&Math.abs(t.torque.nm())<=this.staticFriction.nm()?t.torque.negate():t.torque.isPositive()?this.dynamicFriction.negate():this.dynamicFriction}}]),t}(),k=r(118),M=function(t){Object(o.a)(r,t);var e=Object(u.a)(r);function r(t){return Object(a.a)(this,r),e.call(this,t)}return Object(i.a)(r,[{key:"rad",value:function(){return this.value}},{key:"deg",value:function(){return this.value/r.conversion}}],[{key:"rad",value:function(t){return new r(t)}},{key:"deg",value:function(t){return new r(t*r.conversion)}}]),r}(c);M.conversion=2*Math.PI/360;var P=M,D=function(t){Object(o.a)(r,t);var e=Object(u.a)(r);function r(t){return Object(a.a)(this,r),e.call(this,t)}return Object(i.a)(r,[{key:"radS2",value:function(){return this.value}}],[{key:"radS2",value:function(t){return new r(t)}}]),r}(c),C=function(){function t(e){Object(a.a)(this,t),this.initialState=void 0,this.data=void 0,this.torques=void 0,this.inertias=void 0,e?(this.initialState=e,this.data=[e]):this.data=[{position:P.rad(0),velocity:v.radS(0),acceleration:D.radS2(0),torque:h.nm(0)}],this.torques=[],this.inertias=[]}return Object(i.a)(t,[{key:"addTorque",value:function(t){var e;Array.isArray(t)?(e=this.torques).push.apply(e,Object(k.a)(t)):this.torques.push(t)}},{key:"addInertia",value:function(t){var e;Array.isArray(t)?(e=this.inertias).push.apply(e,Object(k.a)(t)):this.inertias.push(t)}},{key:"reset",value:function(){this.initialState?this.data=[this.initialState]:this.data=[{position:P.rad(0),velocity:v.radS(0),acceleration:D.radS2(0),torque:h.nm(0)}]}},{key:"current",get:function(){return this.data[this.data.length-1]}},{key:"run",value:function(t){var e=this,r=this.inertias.reduce((function(t,r){return t+r(e.current)}),0),n=this.torques.reduce((function(t,r){return t+r(e.current).nm()}),0),a=D.radS2(n/r),i=v.radS(this.current.velocity.radS()+a.radS2()*t.s()),_=P.rad(this.current.position.rad()+i.radS()*t.s());this.data.push({position:_,velocity:i,acceleration:a,torque:h.nm(n)})}}]),t}(),g=function(t){Object(o.a)(r,t);var e=Object(u.a)(r);function r(t){return Object(a.a)(this,r),e.call(this,t)}return Object(i.a)(r,[{key:"s",value:function(){return this.value}},{key:"ms",value:function(){return 1e3*this.value}}],[{key:"s",value:function(t){return new r(t)}},{key:"ms",value:function(t){return new r(t/1e3)}}]),r}(c),w=function(t){Object(o.a)(r,t);var e=Object(u.a)(r);function r(){return Object(a.a)(this,r),e.call(this,r.radius,r.mass)}return r}(function(){function t(e,r){Object(a.a)(this,t),this.radius=void 0,this.mass=void 0,this.radius=e,this.mass=r}return Object(i.a)(t,[{key:"inertia",value:function(){return.5*this.mass.kg()*Math.pow(this.radius.m(),2)}}]),t}());w.radius=m.mm(100),w.mass=j.kg(4);var x=function(t){Object(o.a)(r,t);var e=Object(u.a)(r);function r(){var t;return Object(a.a)(this,r),(t=e.call(this,r.totalTime,r.timeStep,"\n/*\n* Your control system!\n*\n* You are trying to control a 775 pro to spin a\n* steel flywheel at 10 revolutions per second (rps).\n* \n* Your control system is handed two things, a target rps\n* and a current rps. Based on those, you must decide what\n* to set the motor to, which is any number between -1 and 1.\n* \n* Some examples:\n*   Full power forwards: 1\n*   Full power backwards: -1\n*   Half power forwards: 0.5\n*   No power: 0\n*\n* Good luck!\n*/\nfunction runControlSystem(target, current) {\n    return 0;\n}\n\nwindow.runControlSystem = runControlSystem;\n")).staticFriction=h.nm(.2),t.dynamicFriction=h.nm(.1),t.friction=new y(t.staticFriction,t.dynamicFriction),t.joint=new C,t.motor=new E,t.wheel=new w,t.resetables=[t.joint,t.motor],t.target=void 0,t.graphConfig={yLabel:"rps",xLabel:"Time (s)",tickFormater:function(t,e){return isNaN(t)?t:(t/1e3).toFixed(1).toString()},graphKeys:["current","target"]},t.joint.addInertia([t.wheel.inertia.bind(t.wheel),t.motor.inertia.bind(t.motor)]),t.joint.addTorque([t.motor.torque.bind(t.motor),t.friction.torque.bind(t.friction)]),t.target=v.rps(10),t}return Object(i.a)(r,[{key:"reset",value:function(){Object(_.a)(Object(s.a)(r.prototype),"reset",this).call(this);var t,e=Object(n.a)(this.resetables);try{for(e.s();!(t=e.n()).done;){t.value.reset()}}catch(a){e.e(a)}finally{e.f()}}},{key:"runStep",value:function(t){var e=this.joint.current.velocity.rps(),r=this.controlSystem(this.target.rps(),e);this.motor.setPower(r),this.joint.run(this.timeStep),this.data.push({time:t.ms(),target:this.target.rps(),current:e,setPoint:r})}}]),r}(function(){function t(e,r,n){Object(a.a)(this,t),this.data=void 0,this.totalTime=void 0,this.timeStep=void 0,this.starterCode=void 0,this.controlSystem=void 0,this.graphConfig=void 0,this.data=[],this.totalTime=e,this.timeStep=r,this.starterCode=n,this.controlSystem=function(){return 0}}return Object(i.a)(t,[{key:"reset",value:function(){this.data=[]}},{key:"run",value:function(){for(var t=0;t<this.totalTime.ms();t+=this.timeStep.ms())this.runStep(g.ms(t))}}]),t}());x.totalTime=g.s(10),x.timeStep=g.ms(100);e.a=x},193:function(t,e,r){},194:function(t,e,r){},204:function(t,e,r){},342:function(t,e,r){"use strict";r.r(e);var n=r(0),a=r.n(n),i=r(69),_=r.n(i),s=(r(193),r(161)),o=function(t){t&&t instanceof Function&&r.e(3).then(r.bind(null,351)).then((function(e){var r=e.getCLS,n=e.getFID,a=e.getFCP,i=e.getLCP,_=e.getTTFB;r(t),n(t),a(t),i(t),_(t)}))},u=(r(341),r(8));_.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(s.a,{})}),document.getElementById("root")),o()}},[[342,1,2]]]);
//# sourceMappingURL=main.04351a92.chunk.js.map